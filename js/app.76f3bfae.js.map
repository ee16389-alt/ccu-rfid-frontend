{"version":3,"file":"js/app.76f3bfae.js","mappings":"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","sources":["webpack://ccu-rfid-frontend/./src/App.vue?3aa6","webpack://ccu-rfid-frontend/./src/components/RFIDLanding.vue?8acf","webpack://ccu-rfid-frontend/src/components/RFIDLanding.vue","webpack://ccu-rfid-frontend/./src/components/RFIDLanding.vue?32a2","webpack://ccu-rfid-frontend/./src/components/RFIDLanding.vue","webpack://ccu-rfid-frontend/./src/components/ActivityMenu.vue?24c4","webpack://ccu-rfid-frontend/src/components/ActivityMenu.vue","webpack://ccu-rfid-frontend/./src/components/ActivityMenu.vue?a65a","webpack://ccu-rfid-frontend/./src/components/ActivityMenu.vue","webpack://ccu-rfid-frontend/./src/components/Slideshow.vue?c2fa","webpack://ccu-rfid-frontend/src/components/Slideshow.vue","webpack://ccu-rfid-frontend/./src/components/Slideshow.vue?3cab","webpack://ccu-rfid-frontend/./src/components/Slideshow.vue","webpack://ccu-rfid-frontend/./src/components/Login.vue?f4e7","webpack://ccu-rfid-frontend/src/components/Login.vue","webpack://ccu-rfid-frontend/./src/components/Login.vue?47fe","webpack://ccu-rfid-frontend/./src/components/Login.vue","webpack://ccu-rfid-frontend/./src/components/ActivityList.vue?4498","webpack://ccu-rfid-frontend/src/components/ActivityList.vue","webpack://ccu-rfid-frontend/./src/components/ActivityList.vue?ca19","webpack://ccu-rfid-frontend/./src/components/ActivityList.vue","webpack://ccu-rfid-frontend/./src/components/ElderList.vue?9a26","webpack://ccu-rfid-frontend/src/components/ElderList.vue","webpack://ccu-rfid-frontend/./src/components/ElderList.vue?b49f","webpack://ccu-rfid-frontend/./src/components/ElderList.vue","webpack://ccu-rfid-frontend/./src/components/ElderEdit.vue?2aad","webpack://ccu-rfid-frontend/src/components/ElderEdit.vue","webpack://ccu-rfid-frontend/./src/components/ElderEdit.vue?2d2f","webpack://ccu-rfid-frontend/./src/components/ElderEdit.vue","webpack://ccu-rfid-frontend/./src/components/AIScreening.vue?1ab6","webpack://ccu-rfid-frontend/src/components/AIScreening.vue","webpack://ccu-rfid-frontend/./src/components/AIScreening.vue?6f49","webpack://ccu-rfid-frontend/./src/components/AIScreening.vue","webpack://ccu-rfid-frontend/./src/components/ActivityManage.vue?68d3","webpack://ccu-rfid-frontend/src/components/ActivityManage.vue","webpack://ccu-rfid-frontend/./src/components/ActivityManage.vue?09a9","webpack://ccu-rfid-frontend/./src/components/ActivityManage.vue","webpack://ccu-rfid-frontend/./src/components/AIRecognitionView.vue?17bb","webpack://ccu-rfid-frontend/src/components/AIRecognitionView.vue","webpack://ccu-rfid-frontend/./src/components/AIRecognitionView.vue?2ad9","webpack://ccu-rfid-frontend/./src/components/AIRecognitionView.vue","webpack://ccu-rfid-frontend/src/App.vue","webpack://ccu-rfid-frontend/./src/App.vue?6a4a","webpack://ccu-rfid-frontend/./src/App.vue","webpack://ccu-rfid-frontend/./src/main.js","webpack://ccu-rfid-frontend/webpack/bootstrap","webpack://ccu-rfid-frontend/webpack/runtime/amd options","webpack://ccu-rfid-frontend/webpack/runtime/chunk loaded","webpack://ccu-rfid-frontend/webpack/runtime/compat get default export","webpack://ccu-rfid-frontend/webpack/runtime/define property getters","webpack://ccu-rfid-frontend/webpack/runtime/global","webpack://ccu-rfid-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://ccu-rfid-frontend/webpack/runtime/make namespace object","webpack://ccu-rfid-frontend/webpack/runtime/node module decorator","webpack://ccu-rfid-frontend/webpack/runtime/jsonp chunk loading","webpack://ccu-rfid-frontend/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.debugMode)?_c('div',{staticClass:\"debug-toolbar\"},[_c('el-tag',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\"開發者工具\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){_vm.currentView = 'RFIDLanding'}}},[_vm._v(\"長者端 (首頁)\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.currentView = 'Login'}}},[_vm._v(\"行政管理端\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.debugMode = false}}},[_vm._v(\"隱藏工具列\")])],1):_vm._e(),_c('div',{staticClass:\"container\"},[(_vm.currentView === 'RFIDLanding')?_c('RFIDLanding',{on:{\"scan-success\":_vm.onScanSuccess}}):(_vm.currentView === 'ActivityMenu')?_c('ActivityMenu',{attrs:{\"rfid_uid\":_vm.selectedRfid},on:{\"select-activity\":_vm.onSelectActivity,\"go-back\":function($event){_vm.currentView = 'RFIDLanding'}}}):(_vm.currentView === 'Slideshow')?_c('Slideshow',{attrs:{\"rfid_uid\":_vm.selectedRfid,\"activityId\":_vm.selectedActivityId},on:{\"go-back\":function($event){_vm.currentView = 'ActivityMenu'}}}):(_vm.currentView === 'Login')?_c('Login',{on:{\"login-success\":function($event){_vm.currentView = 'ActivityList'}}}):(_vm.currentView === 'ActivityList')?_c('ActivityList',{on:{\"manage-activity\":_vm.onManageActivity,\"add-activity\":_vm.onAddActivity}}):(_vm.currentView === 'ActivityManage')?_c('ActivityManage',{attrs:{\"selectedActivity\":_vm.activeActivityObject},on:{\"go-back\":function($event){_vm.currentView = 'ActivityList'},\"go-screening\":function($event){_vm.currentView = 'AIScreening'},\"go-recognition\":function($event){_vm.currentView = 'AIRecognition'}}}):(_vm.currentView === 'AIRecognition')?_c('AIRecognitionView',{attrs:{\"activityId\":_vm.selectedActivityId},on:{\"go-back\":function($event){_vm.currentView = 'ActivityManage'}}}):(_vm.currentView === 'AIScreening')?_c('AIScreening',{attrs:{\"activityId\":_vm.selectedActivityId},on:{\"go-back\":function($event){_vm.currentView = 'ActivityManage'}}}):(_vm.currentView === 'ElderList')?_c('ElderList',{on:{\"edit-elder\":_vm.onEditElder,\"add-elder\":_vm.onAddElder}}):(_vm.currentView === 'ElderEdit')?_c('ElderEdit',{attrs:{\"elderId\":_vm.selectedResidentId},on:{\"go-back\":function($event){_vm.currentView = 'ElderList'}}}):_c('p',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"50px\"}},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" 系統正在準備中... \")])],1),(_vm.isAdminView)?_c('div',{staticClass:\"admin-nav\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-s-order\"},on:{\"click\":function($event){_vm.currentView = 'ActivityList'}}},[_vm._v(\"活動列表\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-user-solid\"},on:{\"click\":function($event){_vm.currentView = 'ElderList'}}},[_vm._v(\"長者管理\")]),_c('el-button',{staticStyle:{\"color\":\"#F56C6C\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.logout}},[_vm._v(\"安全登出\")])],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rfid-landing\"},[_c('el-card',{staticClass:\"landing-card\",attrs:{\"shadow\":\"always\"}},[_c('div',{staticClass:\"header-content\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('i',{staticClass:\"el-icon-user-solid\"}),_c('span',[_vm._v(\"長者端感應入口\")])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"scan-icon-wrapper\"},[_c('i',{staticClass:\"el-icon-postcard pulse-animation\"})]),_c('h2',[_vm._v(\"歡迎使用回憶錄系統\")]),_c('div',{staticClass:\"status-box\"},[(!_vm.hasToken)?_c('p',{staticClass:\"error-text\"},[_c('i',{staticClass:\"el-icon-warning\"}),_vm._v(\" 系統未授權，請先由管理端登入 \")]):_c('p',{staticClass:\"success-text\"},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 系統已就緒，請感應識別卡 \")])]),_c('el-button',{staticClass:\"action-button\",attrs:{\"type\":\"primary\",\"size\":\"medium\",\"loading\":_vm.loading,\"disabled\":!_vm.hasToken},on:{\"click\":_vm.handleStart}},[_vm._v(\" 模擬卡片感應 \")]),_c('p',{staticClass:\"hint\"},[_vm._v(\"測試卡號：116A2434\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"rfid-landing\">\n    <el-card class=\"landing-card\" shadow=\"always\">\n      <div slot=\"header\" class=\"header-content\">\n        <i class=\"el-icon-user-solid\"></i>\n        <span>長者端感應入口</span>\n      </div>\n      \n      <div class=\"content\">\n        <div class=\"scan-icon-wrapper\">\n          <i class=\"el-icon-postcard pulse-animation\"></i>\n        </div>\n        \n        <h2>歡迎使用回憶錄系統</h2>\n        \n        <div class=\"status-box\">\n          <p v-if=\"!hasToken\" class=\"error-text\">\n            <i class=\"el-icon-warning\"></i> 系統未授權，請先由管理端登入\n          </p>\n          <p v-else class=\"success-text\">\n            <i class=\"el-icon-success\"></i> 系統已就緒，請感應識別卡\n          </p>\n        </div>\n        \n        <el-button \n          type=\"primary\" \n          size=\"medium\" \n          :loading=\"loading\" \n          :disabled=\"!hasToken\"\n          @click=\"handleStart\"\n          class=\"action-button\"\n        >\n          模擬卡片感應\n        </el-button>\n        \n        <p class=\"hint\">測試卡號：116A2434</p>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'RFIDLanding',\n  data() {\n    return {\n      loading: false,\n      // 初始檢查本地是否有 token\n      hasToken: !!localStorage.getItem('userToken')\n    };\n  },\n  methods: {\n    async handleStart() {\n      // 1. 安全性檢查：確保行政端已登入\n      const token = localStorage.getItem('userToken');\n      \n      if (!token) {\n        this.$message({\n          message: '【系統未授權】請先由行政管理端完成登入驗證',\n          type: 'error',\n          duration: 4000\n        });\n        return;\n      }\n\n      this.loading = true;\n      // 使用同學截圖中的測試卡號\n      const cardUid = \"116A2434\"; \n\n      try {\n        // 2. 呼叫後端 RFID 查詢 API，使用完整 Azure 路徑\n        const response = await axios.get(`https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/rfid/${cardUid}`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n\n        // 3. 解析同學提供的數據格式：response.data.match\n        if (response.data.match && response.data.match.length > 0) {\n          const target = response.data.match[0]; // 取得第一個匹配對象\n          \n          this.$notify({\n            title: '感應成功',\n            message: `${target.name} 您好，正在開啟您的精彩回憶！`,\n            type: 'success',\n            position: 'top-left'\n          });\n\n          // 延遲跳轉，將 RFID 序號傳給父組件以進入 ActivityMenu\n          setTimeout(() => {\n            this.$emit('scan-success', cardUid);\n          }, 1000);\n        } else {\n          this.$message.warning('查無此卡片資料，請聯絡管理員登記');\n        }\n      } catch (error) {\n        // 4. Demo 模式：當後端未啟動或連線失敗時使用\n        console.warn(\"API 未連線，啟動示範模式\", error);\n        this.$message({\n          message: '【Demo 模式】歡迎回來，唐伯虎先生！',\n          type: 'warning'\n        });\n        \n        setTimeout(() => {\n          this.$emit('scan-success', '8A303053'); // 使用另一組測試卡號進行 Demo\n        }, 1500);\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 簡單的美化樣式 */\n.rfid-landing {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 70vh;\n  background-color: #f5f7fa;\n}\n\n.landing-card {\n  width: 100%;\n  max-width: 450px;\n  border-radius: 12px;\n}\n\n.header-content {\n  font-weight: bold;\n  font-size: 18px;\n  color: #303133;\n}\n\n.content {\n  text-align: center;\n  padding: 20px 0;\n}\n\n.scan-icon-wrapper {\n  margin-bottom: 20px;\n}\n\n.el-icon-postcard {\n  font-size: 100px;\n  color: #409EFF;\n}\n\n.status-box {\n  margin: 20px 0;\n  min-height: 24px;\n}\n\n.error-text { color: #F56C6C; font-weight: bold; }\n.success-text { color: #67C23A; }\n\n.action-button {\n  width: 200px;\n  font-size: 16px;\n}\n\n.hint {\n  font-size: 12px;\n  color: #909399;\n  margin-top: 15px;\n}\n\n/* 讓圖示有微弱閃爍感，像是感應器的感覺 */\n.pulse-animation {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0% { opacity: 1; transform: scale(1); }\n  50% { opacity: 0.7; transform: scale(0.95); }\n  100% { opacity: 1; transform: scale(1); }\n}\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RFIDLanding.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RFIDLanding.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RFIDLanding.vue?vue&type=template&id=969cb696&scoped=true\"\nimport script from \"./RFIDLanding.vue?vue&type=script&lang=js\"\nexport * from \"./RFIDLanding.vue?vue&type=script&lang=js\"\nimport style0 from \"./RFIDLanding.vue?vue&type=style&index=0&id=969cb696&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"969cb696\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-menu-container\"},[_c('div',{staticClass:\"header-playback\"},[_c('h1',{staticClass:\"main-title\"},[_vm._v(\"回憶照片牆\")]),(_vm.residentName)?_c('el-tag',{staticClass:\"identity-tag\",attrs:{\"type\":\"warning\",\"effect\":\"dark\"}},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 歡迎：\"+_vm._s(_vm.residentName)+\" \")]):_vm._e(),_c('el-button',{staticClass:\"back-button\",attrs:{\"type\":\"warning\"},on:{\"click\":_vm.handleBack}},[_vm._v(\"返回\")])],1),_c('p',{staticClass:\"prompt-text\"},[_vm._v(\"點選活動封面即可開始播放您的精彩回憶\")]),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":30}},_vm._l((_vm.activityList),function(activity){return _c('el-col',{key:activity.id,staticClass:\"activity-col\",attrs:{\"span\":8}},[_c('el-card',{staticClass:\"activity-card\",attrs:{\"shadow\":\"hover\"},nativeOn:{\"click\":function($event){return _vm.handleSelectActivity(activity)}}},[_c('div',{staticClass:\"activity-content\"},[_c('el-image',{staticClass:\"activity-image\",attrs:{\"src\":activity.cover || _vm.getDefaultCover(),\"fit\":\"cover\"}}),_c('div',{staticClass:\"activity-info\"},[_c('p',{staticClass:\"activity-name\"},[_vm._v(_vm._s(activity.name))]),_c('p',{staticClass:\"activity-date\"},[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" \"+_vm._s(activity.date)+\" \"),(activity.photoCount)?_c('span',[_vm._v(\" (\"+_vm._s(activity.photoCount)+\"張)\")]):_vm._e()])])],1)])],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-menu-container\">\n    <div class=\"header-playback\">\n      <h1 class=\"main-title\">回憶照片牆</h1>\n      <el-tag v-if=\"residentName\" type=\"warning\" effect=\"dark\" class=\"identity-tag\">\n        <i class=\"el-icon-user\"></i> 歡迎：{{ residentName }}\n      </el-tag>\n      <el-button type=\"warning\" @click=\"handleBack\" class=\"back-button\">返回</el-button>\n    </div>\n\n    <p class=\"prompt-text\">點選活動封面即可開始播放您的精彩回憶</p>\n\n    <el-row :gutter=\"30\" v-loading=\"loading\">\n      <el-col :span=\"8\" v-for=\"activity in activityList\" :key=\"activity.id\" class=\"activity-col\">\n        <el-card shadow=\"hover\" class=\"activity-card\" @click.native=\"handleSelectActivity(activity)\">\n          <div class=\"activity-content\">\n            <el-image \n              :src=\"activity.cover || getDefaultCover()\" \n              class=\"activity-image\"\n              fit=\"cover\"\n            >\n              </el-image>\n            <div class=\"activity-info\">\n              <p class=\"activity-name\">{{ activity.name }}</p>\n              <p class=\"activity-date\">\n                <i class=\"el-icon-date\"></i> {{ activity.date }} \n                <span v-if=\"activity.photoCount\"> ({{ activity.photoCount }}張)</span>\n              </p>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ActivityMenu',\n  props: ['rfid_uid'], // 改為接收 RFID 序號以供 API 查詢\n  data() {\n    return {\n      loading: false,\n      residentName: '', // 用來儲存長輩姓名\n      activityList: []\n    };\n  },\n  mounted() {\n    if (this.rfid_uid) {\n      this.fetchDataByRfid();\n    } else {\n      this.loadMockActivities();\n    }\n  },\n  methods: {\n    getDefaultCover() {\n      return 'https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=600';\n    },\n\n    // 核心對接：使用同學調整後的 api/rfid/{rfid}\n    async fetchDataByRfid() {\n      this.loading = true;\n      try {\n        const response = await this.$http.get(`/manager-api/rfid/${this.rfid_uid}`);\n        \n        // 1. 處理 match 陣列資訊\n        if (response.data.match && response.data.match.length > 0) {\n          const matchInfo = response.data.match[0];\n          this.residentName = matchInfo.name; // 取得長輩姓名\n        }\n\n        // 2. 渲染 activitys 清單\n        if (response.data.activitys && response.data.activitys.length > 0) {\n          this.activityList = response.data.activitys.map(item => ({\n            id: item.id,\n            name: item.title,\n            date: item.activity_at,\n            cover: item.cover,\n            photoCount: item.photo_count\n          }));\n        } else {\n          this.$message.info('目前尚無相關活動照片');\n        }\n      } catch (error) {\n        console.error(\"RFID 查詢失敗\", error);\n        this.loadMockActivities();\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    loadMockActivities() {\n      this.activityList = [\n        { id: '2', name: '象棋大賽', date: '2025-12-18', photoCount: 6, cover: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=600' },\n        { id: '7', name: '話劇表演', date: '2025-12-24', photoCount: 2, cover: 'https://images.unsplash.com/photo-1576765608535-5f04d1e3f289?w=600' }\n      ];\n    },\n\n    handleSelectActivity(activity) {\n      // 傳遞活動 ID 以及當前的 RFID 序號，以便下一頁過濾照片\n      this.$emit('select-activity', {\n        activityId: activity.id,\n        rfid: this.rfid_uid\n      });\n    },\n    handleBack() {\n      this.$emit('go-back');\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 樣式部分微調：加入身分標籤樣式 */\n.identity-tag { font-size: 18px; padding: 10px 20px; border-radius: 15px; margin-right: auto; margin-left: 20px; }\n/* ... 其餘樣式保持不變 ... */\n.activity-menu-container { padding: 40px; background-color: #fffaf5; min-height: 100vh; }\n.header-playback { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; border-bottom: 3px solid #f0e6da; padding-bottom: 20px; }\n.main-title { font-size: 32px; color: #5d5146; font-weight: bold; }\n.prompt-text { color: #8c7e71; font-size: 18px; margin-bottom: 40px; }\n.activity-card { border-radius: 24px; cursor: pointer; transition: all 0.3s ease; border: none; overflow: hidden; background: white; }\n.activity-card:hover { transform: translateY(-12px); box-shadow: 0 15px 30px rgba(255, 153, 51, 0.15); }\n.activity-image { width: 100%; height: 240px; border-bottom: 1px solid #eee; }\n.activity-info { padding: 20px; text-align: center; }\n.activity-name { font-size: 20px; font-weight: bold; color: #333; margin: 0 0 8px 0; }\n.activity-date { font-size: 16px; color: #909399; margin: 0; }\n.back-button { background-color: #FF9933; border-color: #FF9933; color: white; font-weight: bold; padding: 12px 30px; border-radius: 25px; font-size: 18px; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActivityMenu.vue?vue&type=template&id=ad7d6100&scoped=true\"\nimport script from \"./ActivityMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityMenu.vue?vue&type=style&index=0&id=ad7d6100&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad7d6100\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"slideshow-container\"},[_c('div',{staticClass:\"header-playback\"},[_c('div',{staticClass:\"title-group\"},[_c('h1',{staticClass:\"main-title\"},[_vm._v(\"回憶播放中\")]),(_vm.activityName)?_c('span',{staticClass:\"activity-info\"},[_c('i',{staticClass:\"el-icon-collection-tag\"}),_vm._v(\" \"+_vm._s(_vm.activityName)+\" \")]):_vm._e()]),_c('el-button',{staticClass:\"back-button\",attrs:{\"type\":\"warning\",\"icon\":\"el-icon-close\"},on:{\"click\":_vm.handleBack}},[_vm._v(\"結束放映\")])],1),_c('el-card',{staticClass:\"slideshow-area\",attrs:{\"shadow\":\"always\"}},[_c('div',{staticClass:\"photo-display\"},[(_vm.photoList.length > 1)?_c('div',{staticClass:\"nav-arrow left-arrow\",on:{\"click\":_vm.prevPhoto}},[_c('i',{staticClass:\"el-icon-arrow-left\"})]):_vm._e(),_c('div',{staticClass:\"current-photo-container\"},[_c('transition',{attrs:{\"name\":\"photo-fade\",\"mode\":\"out-in\"}},[(_vm.photoList.length > 0)?_c('el-image',{key:_vm.currentPhotoIndex,staticClass:\"main-photo\",attrs:{\"src\":_vm.photoList[_vm.currentPhotoIndex].url,\"fit\":\"contain\"}},[_c('div',{staticClass:\"image-loading\",attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" 正在翻開您的回憶錄... \")]),_c('div',{staticClass:\"image-error\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"}),_vm._v(\" 哎呀，這段記憶暫時跑掉了 \")])]):(_vm.loading)?_c('div',{staticClass:\"current-photo-placeholder\"},[_c('i',{staticClass:\"el-icon-loading\"}),_vm._v(\" 正在開啟時光機... \")]):_c('div',{staticClass:\"current-photo-placeholder\"},[_vm._v(\"目前此活動尚無照片\")])],1)],1),(_vm.photoList.length > 1)?_c('div',{staticClass:\"nav-arrow right-arrow\",on:{\"click\":_vm.nextPhoto}},[_c('i',{staticClass:\"el-icon-arrow-right\"})]):_vm._e()])]),_c('div',{staticClass:\"controls-bar\"},[_c('div',{staticClass:\"control-panel\"},[_c('el-button',{staticClass:\"play-btn\",attrs:{\"type\":_vm.isPlaying ? 'info' : 'warning',\"circle\":\"\",\"icon\":_vm.isPlaying ? 'el-icon-video-pause' : 'el-icon-video-play'},on:{\"click\":_vm.togglePlay}}),_c('div',{staticClass:\"counter-badge\"},[_c('span',{staticClass:\"current\"},[_vm._v(_vm._s(_vm.photoList.length > 0 ? _vm.currentPhotoIndex + 1 : 0))]),_c('span',{staticClass:\"separator\"},[_vm._v(\"/\")]),_c('span',{staticClass:\"total\"},[_vm._v(_vm._s(_vm.photoList.length))])])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"slideshow-container\">\n    <div class=\"header-playback\">\n      <div class=\"title-group\">\n        <h1 class=\"main-title\">回憶播放中</h1>\n        <span class=\"activity-info\" v-if=\"activityName\">\n          <i class=\"el-icon-collection-tag\"></i> {{ activityName }}\n        </span>\n      </div>\n      <el-button type=\"warning\" @click=\"handleBack\" class=\"back-button\" icon=\"el-icon-close\">結束放映</el-button>\n    </div>\n\n    <el-card shadow=\"always\" class=\"slideshow-area\">\n      <div class=\"photo-display\">\n        <div class=\"nav-arrow left-arrow\" @click=\"prevPhoto\" v-if=\"photoList.length > 1\">\n          <i class=\"el-icon-arrow-left\"></i>\n        </div>\n        \n        <div class=\"current-photo-container\">\n          <transition name=\"photo-fade\" mode=\"out-in\">\n            <el-image \n              :key=\"currentPhotoIndex\"\n              v-if=\"photoList.length > 0\"\n              :src=\"photoList[currentPhotoIndex].url\" \n              fit=\"contain\"\n              class=\"main-photo\"\n            >\n              <div slot=\"placeholder\" class=\"image-loading\">\n                <i class=\"el-icon-loading\"></i> 正在翻開您的回憶錄...\n              </div>\n              <div slot=\"error\" class=\"image-error\">\n                <i class=\"el-icon-picture-outline\"></i> 哎呀，這段記憶暫時跑掉了\n              </div>\n            </el-image>\n            <div v-else-if=\"loading\" class=\"current-photo-placeholder\">\n              <i class=\"el-icon-loading\"></i> 正在開啟時光機...\n            </div>\n            <div v-else class=\"current-photo-placeholder\">目前此活動尚無照片</div>\n          </transition>\n        </div>\n\n        <div class=\"nav-arrow right-arrow\" @click=\"nextPhoto\" v-if=\"photoList.length > 1\">\n          <i class=\"el-icon-arrow-right\"></i>\n        </div>\n      </div>\n    </el-card>\n\n    <div class=\"controls-bar\">\n      <div class=\"control-panel\">\n        <el-button :type=\"isPlaying ? 'info' : 'warning'\" @click=\"togglePlay\" circle class=\"play-btn\" :icon=\"isPlaying ? 'el-icon-video-pause' : 'el-icon-video-play'\"></el-button>\n        <div class=\"counter-badge\">\n          <span class=\"current\">{{ photoList.length > 0 ? currentPhotoIndex + 1 : 0 }}</span>\n          <span class=\"separator\">/</span>\n          <span class=\"total\">{{ photoList.length }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Slideshow',\n  // 改為接收活動 ID 與 RFID 序號\n  props: ['activityId', 'rfid_uid'],\n  data() {\n    return {\n      loading: false,\n      isPlaying: true,\n      currentPhotoIndex: 0,\n      photoList: [],\n      activityName: '',\n      timer: null\n    };\n  },\n  mounted() {\n    this.fetchPhotos();\n    this.startTimer();\n  },\n  beforeDestroy() {\n    this.stopTimer();\n  },\n  methods: {\n    async fetchPhotos() {\n      this.loading = true;\n      const token = localStorage.getItem('userToken');\n      \n      try {\n        // 對接同學調整後的「取得 RFID 活動照片」API\n        // 路徑：/activities/{活動id}/photos?rfid={RFID號碼}\n        const res = await this.$http.get(`/manager-api/activities/${this.activityId}/photos`, {\n          params: { rfid: this.rfid_uid },\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n\n        if (res.data.photos && res.data.photos.length > 0) {\n          // 映射 API 中的 image_url 至組件使用的 url 欄位\n          this.photoList = res.data.photos.map(p => ({\n            id: p.id,\n            url: p.image_url,\n            taken_at: p.taken_at\n          }));\n          this.activityName = `活動 #${res.data.activity_id}`;\n        } else {\n          this.loadMockPhotos();\n        }\n      } catch (err) {\n        console.warn('API 抓取照片失敗，啟動示範模式');\n        this.loadMockPhotos(); \n      } finally {\n        this.loading = false;\n      }\n    },\n\n    loadMockPhotos() {\n      this.activityName = '養老院生活精彩回顧 (示範模式)';\n      const baseUrl = process.env.BASE_URL;\n      this.photoList = [\n        { url: `${baseUrl}slideshow/activity1.png` }, \n        { url: `${baseUrl}slideshow/activity2.png` }, \n        { url: `${baseUrl}slideshow/activity3.png` }, \n        { url: `${baseUrl}slideshow/activity4.png` }\n      ];\n    },\n\n    startTimer() {\n      this.timer = setInterval(() => {\n        if (this.isPlaying && this.photoList.length > 1) {\n          this.nextPhoto();\n        }\n      }, 6000);\n    },\n    stopTimer() {\n      if (this.timer) clearInterval(this.timer);\n    },\n    togglePlay() {\n      this.isPlaying = !this.isPlaying;\n    },\n    prevPhoto() {\n      this.currentPhotoIndex = (this.currentPhotoIndex - 1 + this.photoList.length) % this.photoList.length;\n    },\n    nextPhoto() {\n      this.currentPhotoIndex = (this.currentPhotoIndex + 1) % this.photoList.length;\n    },\n    handleBack() {\n      this.$emit('go-back');\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 樣式保持不變，提供沉浸式的播放體驗 */\n.slideshow-container { padding: 40px 20px; max-width: 1200px; margin: 0 auto; background-color: #fffaf5; min-height: 100vh; }\n.header-playback { display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 25px; }\n.main-title { font-size: 36px; color: #5d5146; font-weight: 800; margin: 0; }\n.activity-info { font-size: 20px; color: #9a8c7d; margin-top: 8px; display: block; }\n.activity-info i { color: #FF9933; margin-right: 8px; }\n.slideshow-area {\n  height: 650px; border-radius: 40px; background-color: #1a1a1a; \n  display: flex; align-items: center; border: 12px solid #fff;\n  box-shadow: 0 30px 60px rgba(93, 81, 70, 0.2) !important; overflow: hidden;\n}\n.photo-display { width: 100%; height: 100%; position: relative; }\n.current-photo-container { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }\n.main-photo { width: 100%; height: 100%; }\n.photo-fade-enter-active, .photo-fade-leave-active { transition: opacity 1.2s ease; }\n.photo-fade-enter, .photo-fade-leave-to { opacity: 0; }\n.nav-arrow {\n  position: absolute; top: 50%; transform: translateY(-50%);\n  background-color: rgba(255, 255, 255, 0.2); color: white; width: 80px; height: 80px;\n  border-radius: 50%; display: flex; justify-content: center; align-items: center;\n  font-size: 40px; cursor: pointer; z-index: 10; transition: 0.4s;\n}\n.nav-arrow:hover { background-color: #FF9933; transform: translateY(-50%) scale(1.1); }\n.left-arrow { left: 30px; }\n.right-arrow { right: 30px; }\n.controls-bar { margin-top: 40px; display: flex; justify-content: center; }\n.control-panel { \n  background: white; padding: 15px 40px; border-radius: 60px;\n  display: flex; align-items: center; box-shadow: 0 10px 25px rgba(0,0,0,0.08);\n}\n.play-btn { font-size: 30px; height: 60px; width: 60px; }\n.counter-badge { margin-left: 25px; font-weight: bold; }\n.current { font-size: 32px; color: #FF9933; }\n.separator { margin: 0 15px; color: #dcdfe6; font-size: 24px; }\n.total { font-size: 24px; color: #909399; }\n.back-button { \n  background-color: #fff; border: 1px solid #dcdfe6; color: #606266;\n  font-weight: bold; padding: 12px 30px; border-radius: 20px; font-size: 18px;\n}\n.back-button:hover { background-color: #f56c6c; color: white; border-color: #f56c6c; }\n.image-loading, .image-error, .current-photo-placeholder { color: #fff; font-size: 20px; text-align: center; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Slideshow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Slideshow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Slideshow.vue?vue&type=template&id=6861ff8c&scoped=true\"\nimport script from \"./Slideshow.vue?vue&type=script&lang=js\"\nexport * from \"./Slideshow.vue?vue&type=script&lang=js\"\nimport style0 from \"./Slideshow.vue?vue&type=style&index=0&id=6861ff8c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6861ff8c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-wrapper\"},[_c('div',{staticClass:\"login-box\"},[_vm._m(0),_c('el-card',{staticClass:\"login-card\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"login-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('img',{staticClass:\"login-logo\",attrs:{\"src\":\"https://img.icons8.com/color/96/elderly-person.png\",\"alt\":\"logo\"}}),_c('h2',[_vm._v(\"行政管理系統\")]),_c('p',{staticClass:\"subtitle\"},[_vm._v(\"請輸入您的管理員憑證\")])]),_c('el-form',{attrs:{\"model\":_vm.loginForm,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"管理員帳號\"}},[_c('el-input',{attrs:{\"placeholder\":\"請輸入帳號 (ccu)\",\"prefix-icon\":\"el-icon-user\",\"clearable\":\"\"},model:{value:(_vm.loginForm.account),callback:function ($$v) {_vm.$set(_vm.loginForm, \"account\", $$v)},expression:\"loginForm.account\"}})],1),_c('el-form-item',{attrs:{\"label\":\"管理密碼\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"請輸入密碼 (123)\",\"prefix-icon\":\"el-icon-lock\",\"show-password\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleLogin.apply(null, arguments)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-button',{staticClass:\"submit-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleLogin}},[_vm._v(\" 啟動管理平台 \")])],1)],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-image-side\"},[_c('div',{staticClass:\"side-bg\"}),_c('div',{staticClass:\"overlay\"},[_c('h3',[_vm._v(\"智慧回憶錄\")]),_c('p',[_vm._v(\"用科技守護每一份珍貴的長者記憶\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login-wrapper\">\n    <div class=\"login-box\">\n      <div class=\"login-image-side\">\n        <div class=\"side-bg\"></div>\n        <div class=\"overlay\">\n          <h3>智慧回憶錄</h3>\n          <p>用科技守護每一份珍貴的長者記憶</p>\n        </div>\n      </div>\n\n      <el-card class=\"login-card\" shadow=\"never\">\n        <div slot=\"header\" class=\"login-header\">\n          <img src=\"https://img.icons8.com/color/96/elderly-person.png\" class=\"login-logo\" alt=\"logo\">\n          <h2>行政管理系統</h2>\n          <p class=\"subtitle\">請輸入您的管理員憑證</p>\n        </div>\n        \n        <el-form :model=\"loginForm\" label-position=\"top\">\n          <el-form-item label=\"管理員帳號\">\n            <el-input \n              v-model=\"loginForm.account\" \n              placeholder=\"請輸入帳號 (ccu)\" \n              prefix-icon=\"el-icon-user\"\n              clearable\n            ></el-input>\n          </el-form-item>\n          \n          <el-form-item label=\"管理密碼\">\n            <el-input \n              v-model=\"loginForm.password\" \n              type=\"password\" \n              placeholder=\"請輸入密碼 (123)\" \n              prefix-icon=\"el-icon-lock\" \n              show-password\n              @keyup.enter.native=\"handleLogin\"\n            ></el-input>\n          </el-form-item>\n\n          <el-button \n            type=\"primary\" \n            class=\"submit-btn\" \n            @click=\"handleLogin\" \n            :loading=\"loading\"\n          >\n            啟動管理平台\n          </el-button>\n        </el-form>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      // 預填預設帳密以便 Demo\n      loginForm: { account: 'ccu', password: '123' },\n      loading: false\n    };\n  },\n  methods: {\n    async handleLogin() {\n      if (!this.loginForm.account || !this.loginForm.password) {\n        this.$message.warning('請完整輸入帳號密碼');\n        return;\n      }\n\n      this.loading = true;\n      try {\n        // 使用完整路徑對接 Azure 上的管理員登入 API\n        const res = await axios.post(\n          'https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Admin/login', \n          this.loginForm\n        );\n\n        // 登入成功處理\n        if (res.data && res.data.access_token) {\n          // 儲存 Token 供後續所有組件使用\n          localStorage.setItem('userToken', res.data.access_token);\n          \n          this.$message({\n            message: '身份驗證成功，歡迎進入管理系統',\n            type: 'success',\n            duration: 2000\n          });\n          \n          // 通知父組件切換視圖\n          this.$emit('login-success');\n        }\n      } catch (err) {\n        console.error('Login Error:', err);\n        // 針對不同錯誤碼提供提示\n        const status = err.response ? err.response.status : null;\n        if (status === 401) {\n          this.$message.error('帳號或密碼錯誤，請重新輸入');\n        } else {\n          this.$message.error('系統連線失敗，請檢查網路狀態');\n        }\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.login-wrapper { display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #f7f3ed; }\n.login-box { display: flex; width: 900px; min-height: 580px; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 35px rgba(0,0,0,0.1); }\n.login-image-side { flex: 1.2; position: relative; background-color: #f0e6da; }\n.side-bg { \n  position: absolute; top: 0; left: 0; width: 100%; height: 100%; \n  background-image: url('https://images.unsplash.com/photo-1557683316-973673baf926?q=80&w=1000&auto=format&fit=crop');\n  background-size: cover; background-position: center; z-index: 1;\n}\n.overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 40px; background: linear-gradient(transparent, rgba(0,0,0,0.7)); color: white; z-index: 2; text-align: left; }\n.overlay h3 { font-size: 28px; margin-bottom: 10px; }\n.login-card { flex: 1; border: none !important; padding: 30px; display: flex; flex-direction: column; justify-content: center; }\n.login-header { text-align: center; margin-bottom: 30px; }\n.login-logo { width: 64px; margin-bottom: 15px; }\n.subtitle { color: #909399; font-size: 14px; margin-top: 8px; }\n.submit-btn { width: 100%; background-color: #FF9933; border-color: #FF9933; border-radius: 10px; font-weight: bold; font-size: 16px; padding: 12px; margin-top: 10px; }\n@media (max-width: 768px) { .login-image-side { display: none; } .login-box { width: 90%; } }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=96d26702&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=96d26702&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"96d26702\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-list-container\"},[_c('div',{staticClass:\"header-section\"},[_c('h2',[_vm._v(\"活動清單管理\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.$emit('add-activity')}}},[_vm._v(\"新增活動\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.activities,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"活動封面\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-image',{staticStyle:{\"width\":\"80px\",\"height\":\"60px\",\"border-radius\":\"6px\",\"border\":\"1px solid #eee\"},attrs:{\"src\":scope.row.cover || 'https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=300',\"fit\":\"cover\",\"preview-src-list\":[scope.row.cover]}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"活動名稱\",\"min-width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"activity_at\",\"label\":\"活動日期\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"RFID 綁定\",\"width\":\"130\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.rfid)?_c('el-tag',{attrs:{\"type\":\"success\",\"size\":\"small\",\"effect\":\"plain\"}},[_c('i',{staticClass:\"el-icon-postcard\"}),_vm._v(\" \"+_vm._s(scope.row.rfid)+\" \")]):_c('el-tag',{attrs:{\"type\":\"info\",\"size\":\"small\",\"effect\":\"plain\"}},[_vm._v(\"未綁定\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"location\",\"label\":\"地點\",\"min-width\":\"130\"}}),_c('el-table-column',{attrs:{\"prop\":\"photo_count\",\"label\":\"照片數\",\"width\":\"90\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"mini\",\"icon\":\"el-icon-setting\"},on:{\"click\":function($event){return _vm.$emit('manage-activity', scope.row.id)}}},[_vm._v(\" 管理 \")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-list-container\">\n    <div class=\"header-section\">\n      <h2>活動清單管理</h2>\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"$emit('add-activity')\">新增活動</el-button>\n    </div>\n\n    <el-table :data=\"activities\" style=\"width: 100%\" stripe v-loading=\"loading\">\n      <el-table-column label=\"活動封面\" width=\"120\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-image \n            :src=\"scope.row.cover || 'https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=300'\" \n            style=\"width: 80px; height: 60px; border-radius: 6px; border: 1px solid #eee;\"\n            fit=\"cover\"\n            :preview-src-list=\"[scope.row.cover]\"\n          >\n            <div slot=\"error\" class=\"image-slot\">\n              <i class=\"el-icon-picture-outline\"></i>\n            </div>\n          </el-image>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"title\" label=\"活動名稱\" min-width=\"180\"></el-table-column>\n      <el-table-column prop=\"activity_at\" label=\"活動日期\" width=\"120\"></el-table-column>\n      \n      <el-table-column label=\"RFID 綁定\" width=\"130\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag v-if=\"scope.row.rfid\" type=\"success\" size=\"small\" effect=\"plain\">\n            <i class=\"el-icon-postcard\"></i> {{ scope.row.rfid }}\n          </el-tag>\n          <el-tag v-else type=\"info\" size=\"small\" effect=\"plain\">未綁定</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"location\" label=\"地點\" min-width=\"130\"></el-table-column>\n      <el-table-column prop=\"photo_count\" label=\"照片數\" width=\"90\" align=\"center\"></el-table-column>\n      \n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button \n            type=\"warning\" \n            size=\"mini\" \n            icon=\"el-icon-setting\"\n            @click=\"$emit('manage-activity', scope.row.id)\"\n          >\n            管理\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ActivityList',\n  data() {\n    return {\n      loading: false,\n      activities: [] \n    };\n  },\n  mounted() {\n    this.fetchActivities();\n  },\n  methods: {\n    async fetchActivities() {\n      this.loading = true;\n      const token = localStorage.getItem('userToken'); \n      \n      try {\n        const response = await axios.get('https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Activity', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        \n        if (response.data && response.data.length > 0) {\n          this.activities = response.data;\n        } else {\n          this.loadMockData();\n        }\n      } catch (error) {\n        console.warn('API 連線失敗，載入示範資料');\n        this.loadMockData(); \n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    loadMockData() {\n      // 模擬資料同步加入 rfid 欄位\n      this.activities = [\n        { \n          id: 'demo_01', \n          title: '象棋大賽暨腦力激盪', \n          activity_at: '2025-12-18', \n          location: '二樓多功能活動室',\n          photo_count: 24,\n          rfid: '8A303053', // 模擬已綁定 RFID\n          cover: 'https://images.unsplash.com/photo-1576091160399-112ba8d25d1d?w=500' \n        },\n        { \n          id: 'demo_02', \n          title: '冬至搓湯圓暖心活動', \n          activity_at: '2025-12-21', \n          location: '一樓共餐食堂',\n          photo_count: 18,\n          rfid: '', // 未綁定\n          cover: 'https://images.unsplash.com/photo-1581579438747-104c53d7fbc4?w=500' \n        }\n      ];\n    }\n  }\n};\n</script>\n\n<style scoped>\n.activity-list-container { padding: 10px; }\n.header-section { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }\nh2 { font-weight: 600; color: #5d5146; margin: 0; }\n.image-slot { \n  display: flex; justify-content: center; align-items: center; \n  width: 100%; height: 100%; background: #f5f7fa; color: #909399; \n  font-size: 20px;\n}\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActivityList.vue?vue&type=template&id=f9b2ae1c&scoped=true\"\nimport script from \"./ActivityList.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityList.vue?vue&type=style&index=0&id=f9b2ae1c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9b2ae1c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"elder-list-container\"},[_c('div',{staticClass:\"header-section\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-bottom\":\"25px\"}},[_c('h2',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#5d5146\"}},[_vm._v(\"長者住民管理\")]),_c('el-button',{staticClass:\"add-button\",staticStyle:{\"background-color\":\"#FF9933\",\"border-color\":\"#FF9933\",\"font-weight\":\"bold\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.$emit('add-elder')}}},[_vm._v(\" 新增長者住民 \")])],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"list-wrapper\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.elderList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"頭像\",\"width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-avatar',{staticStyle:{\"border\":\"2px solid #f0e6da\",\"background-color\":\"#eee\"},attrs:{\"size\":50,\"src\":scope.row.avatar || _vm.getDefaultAvatar()}},[_vm._v(\" \"+_vm._s(scope.row.name ? scope.row.name.charAt(0) : 'U')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"#333\"}},[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年齡\",\"width\":\"100\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"rfid_uid\",\"label\":\"RFID 卡號 (辨識 ID)\",\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.rfid_uid)?_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"success\",\"effect\":\"plain\"}},[_c('i',{staticClass:\"el-icon-postcard\"}),_vm._v(\" \"+_vm._s(scope.row.rfid_uid)+\" \")]):_c('el-tag',{attrs:{\"size\":\"medium\",\"type\":\"info\",\"effect\":\"plain\"}},[_vm._v(\"尚未綁定\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"#FF9933\",\"font-weight\":\"bold\"},attrs:{\"size\":\"mini\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.$emit('edit-elder', scope.row.id)}}},[_c('i',{staticClass:\"el-icon-edit\"}),_vm._v(\" 編輯資料 \")])]}}])})],1),(_vm.elderList.length === 0 && !_vm.loading)?_c('div',{staticClass:\"empty-placeholder\"},[_c('i',{staticClass:\"el-icon-user-solid\",staticStyle:{\"font-size\":\"48px\",\"color\":\"#E4E7ED\",\"margin-bottom\":\"15px\"}}),_c('p',[_vm._v(\"目前尚無長者登記資料\")])]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"elder-list-container\">\n    <div class=\"header-section\" style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;\">\n      <h2 style=\"font-weight: 600; color: #5d5146;\">長者住民管理</h2>\n      <el-button \n        type=\"primary\" \n        @click=\"$emit('add-elder')\" \n        class=\"add-button\"\n        icon=\"el-icon-plus\"\n        style=\"background-color: #FF9933; border-color: #FF9933; font-weight: bold;\"\n      >\n        新增長者住民\n      </el-button>\n    </div>\n\n    <div class=\"list-wrapper\" v-loading=\"loading\">\n      <el-table :data=\"elderList\" style=\"width: 100%\" stripe>\n        <el-table-column label=\"頭像\" width=\"100\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-avatar \n              :size=\"50\"\n              :src=\"scope.row.avatar || getDefaultAvatar()\"\n              style=\"border: 2px solid #f0e6da; background-color: #eee;\"\n            >\n              {{ scope.row.name ? scope.row.name.charAt(0) : 'U' }}\n            </el-avatar>\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"name\" label=\"姓名\" width=\"160\">\n          <template slot-scope=\"scope\">\n            <span style=\"font-weight: bold; color: #333;\">{{ scope.row.name }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"age\" label=\"年齡\" width=\"100\" align=\"center\"></el-table-column>\n        \n        <el-table-column prop=\"rfid_uid\" label=\"RFID 卡號 (辨識 ID)\" min-width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-tag v-if=\"scope.row.rfid_uid\" size=\"medium\" type=\"success\" effect=\"plain\">\n              <i class=\"el-icon-postcard\"></i> {{ scope.row.rfid_uid }}\n            </el-tag>\n            <el-tag v-else size=\"medium\" type=\"info\" effect=\"plain\">尚未綁定</el-tag>\n          </template>\n        </el-table-column>\n        \n        <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button \n              size=\"mini\" \n              type=\"text\" \n              @click=\"$emit('edit-elder', scope.row.id)\" \n              style=\"color: #FF9933; font-weight: bold;\"\n            >\n              <i class=\"el-icon-edit\"></i> 編輯資料\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div v-if=\"elderList.length === 0 && !loading\" class=\"empty-placeholder\">\n        <i class=\"el-icon-user-solid\" style=\"font-size: 48px; color: #E4E7ED; margin-bottom: 15px;\"></i>\n        <p>目前尚無長者登記資料</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ElderList',\n  data() {\n    return {\n      loading: false,\n      elderList: []\n    };\n  },\n  mounted() {\n    this.fetchElders();\n  },\n  methods: {\n    getDefaultAvatar() {\n      return 'https://images.unsplash.com/photo-1472393365320-dc77242e6ea2?auto=format&fit=crop&w=150&q=80';\n    },\n\n    async fetchElders() {\n      this.loading = true;\n      const token = localStorage.getItem('userToken');\n      \n      if (!token) {\n        this.setMockData();\n        this.loading = false;\n        return;\n      }\n\n      try {\n        const res = await this.$http.get('/manager-api/Resident', {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n\n        if (res.data && res.data.length > 0) {\n          // 修改點：映射後端回傳的 rfid_uid 欄位\n          this.elderList = res.data.map(item => ({\n            id: item.id,\n            name: item.name,\n            age: item.age,\n            rfid_uid: item.rfid_uid, // 同步後端屬性名稱\n            avatar: item.avatar_url \n          }));\n        } else {\n          this.setMockData();\n        }\n      } catch (err) {\n        console.warn('API 連線失敗，載入展示模式');\n        this.setMockData(); \n      } finally {\n        this.loading = false;\n      }\n    },\n    \n    setMockData() {\n      // 示範資料對齊後端 RFID\n      this.elderList = [\n        { \n          id: 'm1', \n          name: 'James Wilson', \n          age: 82, \n          rfid_uid: '116A2434', // 對比同學截圖中的 RFID\n          avatar: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=150&q=80' \n        },\n        { \n          id: 'm2', \n          name: '唐伯虎', \n          age: 75, \n          rfid_uid: '8A303053', // 對應新增活動的 RFID 範例\n          avatar: 'https://images.unsplash.com/photo-1544144433-d50aff500b91?auto=format&fit=crop&w=150&q=80' \n        }\n      ];\n    }\n  }\n};\n</script>\n\n<style scoped>\n.elder-list-container { padding: 10px; background-color: #fcfaf8; min-height: 80vh; }\n.header-section h2 { margin: 0; font-size: 24px; }\n.list-wrapper { \n  background: #fff; \n  padding: 25px; \n  border-radius: 16px; \n  box-shadow: 0 4px 20px rgba(0,0,0,0.05); \n  border: 1px solid #f0e6da;\n}\n.empty-placeholder { text-align: center; padding: 60px 0; color: #909399; }\n/deep/ .el-table { border-radius: 8px; overflow: hidden; }\n/deep/ .el-table th { background-color: #fcfaf8 !important; color: #5d5146; font-weight: bold; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElderList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElderList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ElderList.vue?vue&type=template&id=6c636a72&scoped=true\"\nimport script from \"./ElderList.vue?vue&type=script&lang=js\"\nexport * from \"./ElderList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ElderList.vue?vue&type=style&index=0&id=6c636a72&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c636a72\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"elder-edit-container\"},[_c('div',{staticClass:\"header-section\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-back\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$emit('go-back')}}}),_c('h2',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(_vm._s(_vm.isEdit ? '編輯長者住民資料' : '新增長者住民入園登記'))])],1),_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.submitting),expression:\"submitting\"}],staticClass:\"edit-card\",attrs:{\"shadow\":\"never\"}},[_c('el-form',{attrs:{\"model\":_vm.elderForm,\"label-position\":\"top\"}},[_c('el-row',{attrs:{\"gutter\":40}},[_c('el-col',{staticClass:\"avatar-col\",attrs:{\"span\":8}},[_c('div',{staticClass:\"avatar-group\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"#\",\"auto-upload\":false,\"show-file-list\":false,\"on-change\":_vm.handleAvatarChange}},[(_vm.imageUrl)?_c('div',{staticClass:\"avatar-preview-wrapper\"},[_c('img',{staticClass:\"avatar-preview\",attrs:{\"src\":_vm.imageUrl}}),_c('div',{staticClass:\"avatar-mask\"},[_c('i',{staticClass:\"el-icon-edit\"}),_c('span',[_vm._v(\"更換照片\")])])]):_c('div',{staticClass:\"uploader-placeholder\"},[_c('i',{staticClass:\"el-icon-user avatar-uploader-icon\"}),_c('span',[_vm._v(\"上傳大頭照\")])])]),_c('div',{staticClass:\"upload-guide\"},[_c('el-alert',{attrs:{\"title\":\"供 AI 臉部辨識基準\",\"type\":\"info\",\"closable\":false,\"show-icon\":\"\",\"center\":\"\"}}),_c('p',{staticClass:\"guide-text\"},[_vm._v(\"請確保面部清晰無遮擋\")])],1)],1)]),_c('el-col',{attrs:{\"span\":16}},[_c('el-form-item',{attrs:{\"label\":\"住民姓名\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"例如：唐伯虎\"},model:{value:(_vm.elderForm.name),callback:function ($$v) {_vm.$set(_vm.elderForm, \"name\", $$v)},expression:\"elderForm.name\"}})],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"住民年齡\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":60,\"max\":120},model:{value:(_vm.elderForm.age),callback:function ($$v) {_vm.$set(_vm.elderForm, \"age\", $$v)},expression:\"elderForm.age\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"RFID 辨識編號\"}},[_c('el-input',{attrs:{\"placeholder\":\"請感應卡片系統自動帶入\"},model:{value:(_vm.elderForm.rfid_uid),callback:function ($$v) {_vm.$set(_vm.elderForm, \"rfid_uid\", $$v)},expression:\"elderForm.rfid_uid\"}},[_c('i',{staticClass:\"el-icon-postcard\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"住民健康與生活備註\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"5\"},model:{value:(_vm.elderForm.remark),callback:function ($$v) {_vm.$set(_vm.elderForm, \"remark\", $$v)},expression:\"elderForm.remark\"}})],1)],1)],1),_c('div',{staticClass:\"form-actions\"},[_c('el-button',{attrs:{\"type\":\"success\",\"loading\":_vm.submitting,\"icon\":\"el-icon-folder-checked\"},on:{\"click\":_vm.submitForm}},[_vm._v(\" \"+_vm._s(_vm.isEdit ? '更新住民檔案' : '確認入園並建立檔案')+\" \")]),_c('el-button',{on:{\"click\":function($event){return _vm.$emit('go-back')}}},[_vm._v(\"取消返回\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"elder-edit-container\">\n    <div class=\"header-section\">\n      <el-button icon=\"el-icon-back\" circle @click=\"$emit('go-back')\"></el-button>\n      <h2 style=\"margin-left: 15px;\">{{ isEdit ? '編輯長者住民資料' : '新增長者住民入園登記' }}</h2>\n    </div>\n\n    <el-card shadow=\"never\" class=\"edit-card\" v-loading=\"submitting\">\n      <el-form :model=\"elderForm\" label-position=\"top\">\n        <el-row :gutter=\"40\">\n          <el-col :span=\"8\" class=\"avatar-col\">\n            <div class=\"avatar-group\">\n              <el-upload\n                class=\"avatar-uploader\"\n                action=\"#\"\n                :auto-upload=\"false\"\n                :show-file-list=\"false\"\n                :on-change=\"handleAvatarChange\"\n              >\n                <div v-if=\"imageUrl\" class=\"avatar-preview-wrapper\">\n                  <img :src=\"imageUrl\" class=\"avatar-preview\">\n                  <div class=\"avatar-mask\">\n                    <i class=\"el-icon-edit\"></i>\n                    <span>更換照片</span>\n                  </div>\n                </div>\n                <div v-else class=\"uploader-placeholder\">\n                  <i class=\"el-icon-user avatar-uploader-icon\"></i>\n                  <span>上傳大頭照</span>\n                </div>\n              </el-upload>\n              <div class=\"upload-guide\">\n                <el-alert title=\"供 AI 臉部辨識基準\" type=\"info\" :closable=\"false\" show-icon center></el-alert>\n                <p class=\"guide-text\">請確保面部清晰無遮擋</p>\n              </div>\n            </div>\n          </el-col>\n\n          <el-col :span=\"16\">\n            <el-form-item label=\"住民姓名\" required>\n              <el-input v-model=\"elderForm.name\" placeholder=\"例如：唐伯虎\"></el-input>\n            </el-form-item>\n            <el-row :gutter=\"20\">\n              <el-col :span=\"12\">\n                <el-form-item label=\"住民年齡\">\n                  <el-input-number v-model=\"elderForm.age\" :min=\"60\" :max=\"120\" style=\"width: 100%\"></el-input-number>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"12\">\n                <el-form-item label=\"RFID 辨識編號\">\n                  <el-input v-model=\"elderForm.rfid_uid\" placeholder=\"請感應卡片系統自動帶入\">\n                    <i slot=\"prefix\" class=\"el-icon-postcard\"></i>\n                  </el-input>\n                </el-form-item>\n              </el-col>\n            </el-row>\n            <el-form-item label=\"住民健康與生活備註\">\n              <el-input type=\"textarea\" v-model=\"elderForm.remark\" rows=\"5\"></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n\n        <div class=\"form-actions\">\n          <el-button type=\"success\" @click=\"submitForm\" :loading=\"submitting\" icon=\"el-icon-folder-checked\">\n            {{ isEdit ? '更新住民檔案' : '確認入園並建立檔案' }}\n          </el-button>\n          <el-button @click=\"$emit('go-back')\">取消返回</el-button>\n        </div>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ElderEdit',\n  props: ['elderId'],\n  data() {\n    return {\n      elderForm: { name: '', age: 80, rfid_uid: '', remark: '' },\n      imageUrl: '', \n      selectedFile: null,\n      submitting: false,\n      isEdit: false\n    };\n  },\n  mounted() {\n    if (this.elderId) {\n      this.isEdit = true;\n      this.fetchElderData();\n    }\n  },\n  methods: {\n    async fetchElderData() {\n      const token = localStorage.getItem('userToken');\n      try {\n        const res = await this.$http.get(`/manager-api/Resident/${this.elderId}`, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        this.elderForm = {\n          name: res.data.name,\n          age: res.data.age,\n          rfid_uid: res.data.rfid_uid, // 對接 API 欄位\n          remark: res.data.remark\n        };\n        this.imageUrl = res.data.avatar_url || '';\n      } catch (err) {\n        this.$message.error('讀取住民資料失敗');\n      }\n    },\n    handleAvatarChange(file) {\n      this.selectedFile = file.raw;\n      this.imageUrl = URL.createObjectURL(file.raw);\n    },\n    async submitForm() {\n      if (!this.elderForm.name) {\n        this.$message.warning('請填寫住民姓名');\n        return;\n      }\n\n      this.submitting = true;\n      const token = localStorage.getItem('userToken');\n      \n      // 使用 FormData 處理檔案上傳\n      const formData = new FormData();\n      formData.append('Name', this.elderForm.name);\n      formData.append('Age', this.elderForm.age);\n      formData.append('RfidUid', this.elderForm.rfid_uid); // RFID 序號\n      formData.append('Remark', this.elderForm.remark);\n      if (this.selectedFile) {\n        formData.append('Avatar', this.selectedFile); // 大頭照檔案\n      }\n\n      try {\n        const url = this.isEdit \n          ? `https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Resident/${this.elderId}`\n          : `https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Resident`;\n        \n        const method = this.isEdit ? 'put' : 'post';\n        \n        await axios({\n          method: method,\n          url: url,\n          data: formData,\n          headers: { \n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n\n        this.$message.success(this.isEdit ? '資料更新成功' : '入園登記成功');\n        this.$emit('go-back');\n      } catch (err) {\n        this.$message.error('系統儲存失敗');\n      } finally {\n        this.submitting = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 樣式保持不變 */\n.elder-edit-container { padding: 15px; background-color: #fcfaf8; min-height: 80vh; }\n.header-section { display: flex; align-items: center; margin-bottom: 25px; }\n.avatar-col { display: flex; justify-content: center; }\n.avatar-group { display: flex; flex-direction: column; align-items: center; }\n.avatar-uploader {\n  width: 200px; height: 200px;\n  border: 2px dashed #dcdfe6; border-radius: 50%;\n  cursor: pointer; position: relative; overflow: hidden;\n  transition: all 0.3s; background-color: #fcfcfc;\n  display: flex; justify-content: center; align-items: center;\n}\n.avatar-uploader /deep/ .el-upload { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }\n.avatar-preview { width: 100%; height: 100%; object-fit: cover; display: block; }\n.upload-guide { margin-top: 20px; text-align: center; }\n.guide-text { font-size: 12px; color: #909399; margin-top: 8px; }\n.form-actions { margin-top: 40px; text-align: center; padding-top: 30px; border-top: 1px dashed #e9e0d6; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElderEdit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElderEdit.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ElderEdit.vue?vue&type=template&id=42c2ca2e&scoped=true\"\nimport script from \"./ElderEdit.vue?vue&type=script&lang=js\"\nexport * from \"./ElderEdit.vue?vue&type=script&lang=js\"\nimport style0 from \"./ElderEdit.vue?vue&type=style&index=0&id=42c2ca2e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42c2ca2e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ai-screening-container\"},[_c('div',{staticClass:\"header-section\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-back\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$emit('go-back')}}}),_c('h2',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(\"AI 分群結果審核\")]),_c('el-tag',{staticStyle:{\"margin-left\":\"auto\"},attrs:{\"type\":\"success\",\"effect\":\"dark\"}},[_vm._v(\"AI 運算完成 (100%)\")])],1),_c('el-alert',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"title\":\"提示：點擊照片可查看 AI 辨識橘框，若身分錯誤可於彈窗中進行修正。\",\"type\":\"info\",\"show-icon\":\"\",\"closable\":false}}),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":20}},_vm._l((_vm.aiGroups),function(group){return _c('el-col',{key:group.resident_id,staticStyle:{\"margin-bottom\":\"25px\"},attrs:{\"span\":24}},[_c('el-card',{staticClass:\"elder-group-card\",attrs:{\"shadow\":\"hover\"}},[_c('div',{staticClass:\"group-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-avatar',{attrs:{\"size\":50,\"src\":group.avatar,\"icon\":\"el-icon-user\"}}),_c('div',{staticClass:\"elder-info\"},[_c('span',{staticClass:\"elder-name\"},[_vm._v(_vm._s(group.name))]),_c('span',{staticClass:\"match-rate\"},[_c('i',{staticClass:\"el-icon-cpu\"}),_vm._v(\" AI 信心度: \"+_vm._s((group.confidence * 100).toFixed(1))+\"%\")])]),_c('el-button',{staticStyle:{\"margin-left\":\"auto\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"plain\":\"\",\"icon\":\"el-icon-check\"}},[_vm._v(\"全組正確\")])],1),_c('div',{staticClass:\"photo-grid\"},_vm._l((group.photos),function(photo,index){return _c('div',{key:photo.photo_id,staticClass:\"photo-item\",on:{\"click\":function($event){return _vm.openEditDialog(photo, group)}}},[_c('el-image',{staticClass:\"thumb-img\",attrs:{\"src\":photo.photo_url,\"fit\":\"cover\"}},[_c('div',{staticClass:\"image-slot-error\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture\"})])]),_c('div',{staticClass:\"photo-action\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removePhotoFromGroup(group, index)}}},[_c('i',{staticClass:\"el-icon-delete-solid\"})])],1)}),0)])],1)}),1),_c('el-dialog',{attrs:{\"title\":\"辨識內容校對\",\"visible\":_vm.editVisible,\"width\":\"600px\",\"append-to-body\":\"\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[(_vm.editingPhoto)?_c('div',{staticClass:\"edit-dialog-content\"},[_c('div',{staticClass:\"preview-wrapper\"},[_c('img',{ref:\"previewImg\",staticClass:\"preview-img\",attrs:{\"src\":_vm.editingPhoto.photo_url},on:{\"load\":_vm.drawEditBox}}),_c('div',{staticClass:\"orange-box\",style:(_vm.boxStyle)},[_c('span',{staticClass:\"box-label\"},[_vm._v(_vm._s(_vm.editingPhoto.tempName))])])]),_c('div',{staticClass:\"edit-form\"},[_c('p',[_vm._v(\"AI 原始辨識為：\"),_c('strong',[_vm._v(_vm._s(_vm.editingPhoto.originalName))])]),_c('el-form',{attrs:{\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"修正身分為：\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"請選擇正確長者\"},on:{\"change\":_vm.updateTempName},model:{value:(_vm.editingPhoto.targetResidentId),callback:function ($$v) {_vm.$set(_vm.editingPhoto, \"targetResidentId\", $$v)},expression:\"editingPhoto.targetResidentId\"}},_vm._l((_vm.residentOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1)],1)]):_vm._e(),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmCorrection}},[_vm._v(\"確認修改\")])],1)]),_c('div',{staticClass:\"bottom-actions\"},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"large\",\"loading\":_vm.loading,\"icon\":\"el-icon-document-checked\"},on:{\"click\":_vm.handleFinalSave}},[_vm._v(\" 確認辨識結果並儲存至資料庫 \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ai-screening-container\">\n    <div class=\"header-section\">\n      <el-button icon=\"el-icon-back\" @click=\"$emit('go-back')\" circle></el-button>\n      <h2 style=\"margin-left: 15px;\">AI 分群結果審核</h2>\n      <el-tag type=\"success\" effect=\"dark\" style=\"margin-left: auto;\">AI 運算完成 (100%)</el-tag>\n    </div>\n\n    <el-alert title=\"提示：點擊照片可查看 AI 辨識橘框，若身分錯誤可於彈窗中進行修正。\" type=\"info\" show-icon :closable=\"false\" style=\"margin-bottom: 20px;\">\n    </el-alert>\n\n    <el-row :gutter=\"20\" v-loading=\"loading\">\n      <el-col :span=\"24\" v-for=\"group in aiGroups\" :key=\"group.resident_id\" style=\"margin-bottom: 25px;\">\n        <el-card shadow=\"hover\" class=\"elder-group-card\">\n          <div slot=\"header\" class=\"group-header\">\n            <el-avatar :size=\"50\" :src=\"group.avatar\" icon=\"el-icon-user\"></el-avatar>\n            <div class=\"elder-info\">\n              <span class=\"elder-name\">{{ group.name }}</span>\n              <span class=\"match-rate\"><i class=\"el-icon-cpu\"></i> AI 信心度: {{ (group.confidence * 100).toFixed(1) }}%</span>\n            </div>\n            <el-button type=\"primary\" size=\"small\" plain icon=\"el-icon-check\" style=\"margin-left: auto;\">全組正確</el-button>\n          </div>\n          \n          <div class=\"photo-grid\">\n            <div v-for=\"(photo, index) in group.photos\" :key=\"photo.photo_id\" class=\"photo-item\" @click=\"openEditDialog(photo, group)\">\n              <el-image :src=\"photo.photo_url\" fit=\"cover\" class=\"thumb-img\">\n                <div slot=\"error\" class=\"image-slot-error\"><i class=\"el-icon-picture\"></i></div>\n              </el-image>\n              <div class=\"photo-action\" @click.stop=\"removePhotoFromGroup(group, index)\">\n                <i class=\"el-icon-delete-solid\"></i>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n\n    <el-dialog title=\"辨識內容校對\" :visible.sync=\"editVisible\" width=\"600px\" append-to-body>\n      <div v-if=\"editingPhoto\" class=\"edit-dialog-content\">\n        <div class=\"preview-wrapper\">\n          <img :src=\"editingPhoto.photo_url\" class=\"preview-img\" ref=\"previewImg\" @load=\"drawEditBox\" />\n          <div class=\"orange-box\" :style=\"boxStyle\">\n            <span class=\"box-label\">{{ editingPhoto.tempName }}</span>\n          </div>\n        </div>\n        <div class=\"edit-form\">\n          <p>AI 原始辨識為：<strong>{{ editingPhoto.originalName }}</strong></p>\n          <el-form label-position=\"top\">\n            <el-form-item label=\"修正身分為：\">\n              <el-select v-model=\"editingPhoto.targetResidentId\" placeholder=\"請選擇正確長者\" style=\"width: 100%\" @change=\"updateTempName\">\n                <el-option v-for=\"item in residentOptions\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-form>\n        </div>\n      </div>\n      <span slot=\"footer\">\n        <el-button @click=\"editVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmCorrection\">確認修改</el-button>\n      </span>\n    </el-dialog>\n\n    <div class=\"bottom-actions\">\n      <el-button type=\"success\" size=\"large\" @click=\"handleFinalSave\" :loading=\"loading\" icon=\"el-icon-document-checked\">\n        確認辨識結果並儲存至資料庫\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AIScreening',\n  props: ['activityId'],\n  data() {\n    return {\n      loading: false,\n      editVisible: false,\n      editingPhoto: null,\n      boxStyle: {},\n      aiGroups: [],\n      residentOptions: [] // 應從 API 獲取所有長者清單\n    };\n  },\n  methods: {\n    async fetchScreeningResults() {\n      this.loading = true;\n      try {\n        // 對接後端 recognize API\n        const res = await this.$http.post(`/manager-api/Activity/${this.activityId}/recognize`);\n        this.aiGroups = res.data;\n        // 模擬長者名單，實際開發請呼叫住民 API\n        this.residentOptions = this.aiGroups.map(g => ({ id: g.resident_id, name: g.name }));\n      } catch (err) {\n        this.loadMockResults();\n      } finally {\n        this.loading = false;\n      }\n    },\n    openEditDialog(photo, group) {\n      this.editingPhoto = {\n        ...photo,\n        originalGroup: group,\n        originalName: group.name,\n        targetResidentId: group.resident_id,\n        tempName: group.name\n      };\n      this.editVisible = true;\n    },\n    drawEditBox() {\n      const img = this.$refs.previewImg;\n      const box = this.editingPhoto.bounding_box; // [top, left, bottom, right]\n      if (!img || !box) return;\n      const sx = img.clientWidth / img.naturalWidth;\n      const sy = img.clientHeight / img.naturalHeight;\n      this.boxStyle = {\n        top: (box[0] * sy) + 'px',\n        left: (box[1] * sx) + 'px',\n        width: ((box[3] - box[1]) * sx) + 'px',\n        height: ((box[2] - box[0]) * sy) + 'px'\n      };\n    },\n    updateTempName(val) {\n      this.editingPhoto.tempName = this.residentOptions.find(o => o.id === val).name;\n    },\n    confirmCorrection() {\n      // 前端暫存修正：將照片移出舊組並準備存入新狀態\n      this.$message.success('已暫存修改，儲存後正式生效');\n      this.editVisible = false;\n      // 實際邏輯：更新 aiGroups 陣列讓畫面同步變動\n    },\n    async handleFinalSave() {\n      this.loading = true;\n      try {\n        // 封裝成同學要求的儲存格式\n        const payload = [];\n        this.aiGroups.forEach(group => {\n          group.photos.forEach(p => {\n            payload.push({ photo_id: p.photo_id, resident_id: group.resident_id });\n          });\n        });\n        await this.$http.post(`/manager-api/Activity/${this.activityId}/recognize/confirm`, payload);\n        this.$message.success('AI 辨識結果已同步至資料庫！');\n        this.$emit('go-back');\n      } catch (error) {\n        this.$message.error('儲存失敗');\n      } finally {\n        this.loading = false;\n      }\n    },\n    loadMockResults() {\n      // 保持原有 Mock 邏輯，但欄位需對齊後端\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 關鍵樣式：橘色辨識框 */\n.preview-wrapper { position: relative; width: 100%; margin-bottom: 20px; overflow: hidden; border-radius: 8px; }\n.preview-img { width: 100%; display: block; }\n.orange-box { position: absolute; border: 3px solid #FF9933; background: rgba(255, 153, 51, 0.2); pointer-events: none; box-sizing: border-box; }\n.box-label { position: absolute; top: -25px; left: -3px; background: #FF9933; color: white; padding: 2px 8px; font-size: 12px; border-radius: 4px 4px 0 0; }\n.edit-form { padding: 10px; background: #fffaf5; border-radius: 8px; }\n/* ... 其餘樣式保持不變 ... */\n.ai-screening-container { padding: 15px; background-color: #fcfaf8; min-height: 100vh; }\n.header-section { display: flex; align-items: center; margin-bottom: 20px; }\n.elder-group-card { border-radius: 12px; border-left: 6px solid #67c23a; margin-bottom: 25px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); background-color: #fff; }\n.group-header { display: flex; align-items: center; }\n.elder-info { margin-left: 15px; display: flex; flex-direction: column; }\n.elder-name { font-size: 18px; font-weight: bold; color: #333; }\n.match-rate { font-size: 13px; color: #67c23a; font-weight: 600; margin-top: 4px; }\n.photo-grid { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 15px; }\n.photo-item { position: relative; width: 110px; height: 110px; cursor: pointer; }\n.thumb-img { width: 100%; height: 100%; border-radius: 10px; border: 1px solid #ebeef5; transition: transform 0.2s; }\n.thumb-img:hover { transform: scale(1.05); }\n.bottom-actions { text-align: center; margin: 40px 0; padding-bottom: 20px; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIScreening.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIScreening.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AIScreening.vue?vue&type=template&id=0568efa2&scoped=true\"\nimport script from \"./AIScreening.vue?vue&type=script&lang=js\"\nexport * from \"./AIScreening.vue?vue&type=script&lang=js\"\nimport style0 from \"./AIScreening.vue?vue&type=style&index=0&id=0568efa2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0568efa2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-manage-container\"},[_c('div',{staticClass:\"header-section\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-back\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$emit('go-back')}}}),_c('h2',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(_vm._s(_vm.isNewActivity ? '建立活動檔案' : '管理活動內容'))])],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.submitting),expression:\"submitting\"}],staticClass:\"info-card\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"info-card-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-collection-tag\"}),_vm._v(\" 活動基本設定\")])]),_c('el-form',{attrs:{\"model\":_vm.activityForm,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"活動名稱\"}},[_c('el-input',{attrs:{\"placeholder\":\"例如：12月象棋大賽\",\"disabled\":!_vm.isNewActivity},model:{value:(_vm.activityForm.title),callback:function ($$v) {_vm.$set(_vm.activityForm, \"title\", $$v)},expression:\"activityForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"RFID 實體卡綁定\"}},[_c('el-input',{attrs:{\"placeholder\":\"請掃描或輸入 RFID 序號\",\"disabled\":!_vm.isNewActivity,\"clearable\":\"\"},model:{value:(_vm.activityForm.rfid),callback:function ($$v) {_vm.$set(_vm.activityForm, \"rfid\", $$v)},expression:\"activityForm.rfid\"}},[_c('i',{staticClass:\"el-icon-postcard\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})]),_c('div',{staticClass:\"form-tip\"},[_vm._v(\"綁定後，長者掃描此卡可直接進入該活動相簿\")])],1),_c('el-form-item',{attrs:{\"label\":\"活動日期\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"選擇活動日期\",\"value-format\":\"yyyy-MM-dd\",\"disabled\":!_vm.isNewActivity},model:{value:(_vm.activityForm.activity_at),callback:function ($$v) {_vm.$set(_vm.activityForm, \"activity_at\", $$v)},expression:\"activityForm.activity_at\"}})],1),_c('el-form-item',{attrs:{\"label\":\"活動地點\"}},[_c('el-input',{attrs:{\"placeholder\":\"例如：社區交誼廳\",\"disabled\":!_vm.isNewActivity},model:{value:(_vm.activityForm.location),callback:function ($$v) {_vm.$set(_vm.activityForm, \"location\", $$v)},expression:\"activityForm.location\"}})],1),(_vm.isNewActivity)?_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleCreateActivity}},[_vm._v(\"建立活動並開始上傳\")]):_vm._e()],1),(!_vm.isNewActivity)?_c('div',{staticClass:\"progress-section\"},[_c('el-divider'),_c('p',{staticClass:\"progress-text\"},[_c('i',{staticClass:\"el-icon-cpu\"}),_vm._v(\" AI 人臉特徵掃描：\"+_vm._s(_vm.analyzedCount)+\" / \"+_vm._s(_vm.activityForm.photoCount)+\" \")]),_c('el-progress',{attrs:{\"percentage\":_vm.progressPercentage,\"stroke-width\":18,\"color\":_vm.customColors,\"striped\":\"\",\"striped-flow\":\"\"}}),(_vm.progressPercentage === 100 && _vm.activityForm.photoCount > 0)?_c('div',{staticClass:\"ai-guide-box\"},[_c('el-alert',{attrs:{\"title\":\"掃描完成！AI 已自動識別長者身分\",\"type\":\"success\",\"closable\":false,\"show-icon\":\"\"}}),_c('div',{staticClass:\"button-group\"},[_c('el-button',{staticClass:\"manage-btn\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-edit-outline\"},on:{\"click\":function($event){return _vm.$emit('go-screening')}}},[_vm._v(\"校對身分標籤\")]),_c('el-button',{staticClass:\"pulse-btn\",attrs:{\"type\":\"success\",\"icon\":\"el-icon-picture\"},on:{\"click\":function($event){return _vm.$emit('go-recognition')}}},[_vm._v(\"查看 AI 辨識成果\")])],1)],1):_vm._e()],1):_vm._e()],1)],1),_c('el-col',{attrs:{\"span\":16}},[_c('el-card',{staticClass:\"upload-card\",class:{ 'disabled-overlay': _vm.isNewActivity },attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"upload-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" 批次照片上傳 (支援拖拽)\")]),(_vm.isNewActivity)?_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"small\"}},[_vm._v(\"請先於左側儲存資訊\")]):_vm._e()],1),(!_vm.isNewActivity)?_c('el-upload',{attrs:{\"action\":_vm.getUploadUrl(),\"name\":\"Files\",\"headers\":_vm.uploadHeaders,\"multiple\":\"\",\"list-type\":\"picture-card\",\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError}},[_c('i',{staticClass:\"el-icon-plus\"})]):_c('div',{staticClass:\"upload-placeholder\"},[_c('div',{staticClass:\"placeholder-icon-wrap\"},[_c('i',{staticClass:\"el-icon-picture-outline\",staticStyle:{\"font-size\":\"60px\"}})]),_c('h3',[_vm._v(\"等待建立活動\")]),_c('p',[_vm._v(\"請先完成左側活動基本資訊，即可開啟雲端 AI 上傳通道\")])])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"activity-manage-container\">\n    <div class=\"header-section\">\n      <el-button icon=\"el-icon-back\" circle @click=\"$emit('go-back')\"></el-button>\n      <h2 style=\"margin-left: 15px;\">{{ isNewActivity ? '建立活動檔案' : '管理活動內容' }}</h2>\n    </div>\n\n    <el-row :gutter=\"20\">\n      <el-col :span=\"8\">\n        <el-card shadow=\"never\" class=\"info-card\" v-loading=\"submitting\">\n          <div slot=\"header\" class=\"info-card-header\">\n            <span><i class=\"el-icon-collection-tag\"></i> 活動基本設定</span>\n          </div>\n          \n          <el-form :model=\"activityForm\" label-position=\"top\">\n            <el-form-item label=\"活動名稱\">\n              <el-input \n                v-model=\"activityForm.title\" \n                placeholder=\"例如：12月象棋大賽\"\n                :disabled=\"!isNewActivity\"\n              ></el-input>\n            </el-form-item>\n\n            <el-form-item label=\"RFID 實體卡綁定\">\n              <el-input \n                v-model=\"activityForm.rfid\" \n                placeholder=\"請掃描或輸入 RFID 序號\"\n                :disabled=\"!isNewActivity\"\n                clearable\n              >\n                <i slot=\"prefix\" class=\"el-icon-postcard\"></i>\n              </el-input>\n              <div class=\"form-tip\">綁定後，長者掃描此卡可直接進入該活動相簿</div>\n            </el-form-item>\n\n            <el-form-item label=\"活動日期\">\n              <el-date-picker\n                v-model=\"activityForm.activity_at\"\n                type=\"date\"\n                placeholder=\"選擇活動日期\"\n                style=\"width: 100%\"\n                value-format=\"yyyy-MM-dd\"\n                :disabled=\"!isNewActivity\"\n              ></el-date-picker>\n            </el-form-item>\n            <el-form-item label=\"活動地點\">\n              <el-input \n                v-model=\"activityForm.location\" \n                placeholder=\"例如：社區交誼廳\"\n                :disabled=\"!isNewActivity\"\n              ></el-input>\n            </el-form-item>\n            \n            <el-button \n              v-if=\"isNewActivity\" \n              type=\"primary\" \n              style=\"width: 100%; margin-top: 10px;\" \n              @click=\"handleCreateActivity\"\n            >建立活動並開始上傳</el-button>\n          </el-form>\n\n          <div v-if=\"!isNewActivity\" class=\"progress-section\">\n            <el-divider></el-divider>\n            <p class=\"progress-text\">\n              <i class=\"el-icon-cpu\"></i> AI 人臉特徵掃描：{{ analyzedCount }} / {{ activityForm.photoCount }}\n            </p>\n            <el-progress \n              :percentage=\"progressPercentage\" \n              :stroke-width=\"18\"\n              :color=\"customColors\"\n              striped\n              striped-flow\n            ></el-progress>\n            \n            <div v-if=\"progressPercentage === 100 && activityForm.photoCount > 0\" class=\"ai-guide-box\">\n              <el-alert \n                title=\"掃描完成！AI 已自動識別長者身分\" \n                type=\"success\" \n                :closable=\"false\" \n                show-icon\n              ></el-alert>\n              \n              <div class=\"button-group\">\n                <el-button \n                  type=\"primary\" \n                  plain\n                  class=\"manage-btn\" \n                  icon=\"el-icon-edit-outline\" \n                  @click=\"$emit('go-screening')\"\n                >校對身分標籤</el-button>\n\n                <el-button \n                  type=\"success\" \n                  class=\"pulse-btn\" \n                  icon=\"el-icon-picture\" \n                  @click=\"$emit('go-recognition')\"\n                >查看 AI 辨識成果</el-button>\n              </div>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n\n      <el-col :span=\"16\">\n        <el-card shadow=\"never\" class=\"upload-card\" :class=\"{ 'disabled-overlay': isNewActivity }\">\n          <div slot=\"header\" class=\"upload-header\">\n            <span><i class=\"el-icon-upload\"></i> 批次照片上傳 (支援拖拽)</span>\n            <el-tag v-if=\"isNewActivity\" type=\"warning\" size=\"small\">請先於左側儲存資訊</el-tag>\n          </div>\n          \n          <el-upload\n            v-if=\"!isNewActivity\"\n            :action=\"getUploadUrl()\"\n            name=\"Files\"\n            :headers=\"uploadHeaders\"\n            multiple\n            list-type=\"picture-card\"\n            :on-success=\"handleUploadSuccess\"\n            :on-error=\"handleUploadError\"\n          >\n            <i class=\"el-icon-plus\"></i>\n          </el-upload>\n          \n          <div v-else class=\"upload-placeholder\">\n            <div class=\"placeholder-icon-wrap\">\n              <i class=\"el-icon-picture-outline\" style=\"font-size: 60px;\"></i>\n            </div>\n            <h3>等待建立活動</h3>\n            <p>請先完成左側活動基本資訊，即可開啟雲端 AI 上傳通道</p>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'ActivityManage',\n  props: ['selectedActivity'], \n  data() {\n    return {\n      submitting: false,\n      isNewActivity: !this.selectedActivity?.id,\n      activityForm: {\n        id: this.selectedActivity?.id || null,\n        title: this.selectedActivity?.title || '',\n        activity_at: this.selectedActivity?.activity_at || '',\n        location: this.selectedActivity?.location || '',\n        rfid: this.selectedActivity?.rfid || '', // 新增：對接後端 RFID 欄位\n        photoCount: this.selectedActivity?.photo_count || 0\n      },\n      analyzedCount: this.selectedActivity?.photo_count || 0,\n      uploadHeaders: {\n        'Authorization': `Bearer ${localStorage.getItem('userToken')}`\n      },\n      customColors: [\n        { color: '#f56c6c', percentage: 20 },\n        { color: '#67c23a', percentage: 100 }\n      ]\n    };\n  },\n  computed: {\n    progressPercentage() {\n      if (this.activityForm.photoCount === 0) return 0;\n      return Math.floor((this.analyzedCount / this.activityForm.photoCount) * 100);\n    }\n  },\n  methods: {\n    getUploadUrl() {\n      return `https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Activity/${this.activityForm.id}/UploadBatch`;\n    },\n    \n    async handleCreateActivity() {\n      if (!this.activityForm.title) {\n        this.$message.warning('請輸入活動名稱');\n        return;\n      }\n      this.submitting = true;\n      try {\n        // 發送包含 rfid 的完整表單資料\n        const res = await axios.post('https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net/manager-api/Activity', this.activityForm, {\n          headers: this.uploadHeaders\n        });\n        \n        // 儲存後端回傳的 ID 並切換為上傳模式\n        this.activityForm.id = res.data.id;\n        this.isNewActivity = false;\n        this.$message.success('活動檔案已建立，且已綁定 RFID');\n      } catch (err) {\n        this.$message.error('系統連線失敗');\n      } finally {\n        this.submitting = false;\n      }\n    },\n    handleUploadSuccess() {\n      this.$message.success('照片上傳成功');\n      this.activityForm.photoCount++;\n      setTimeout(() => { this.analyzedCount++; }, 1500);\n    },\n    handleUploadError() {\n      this.$message.error('上傳失敗');\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 保持原有樣式，新增提示文字樣式 */\n.form-tip { font-size: 12px; color: #909399; margin-top: 4px; line-height: 1.4; }\n/* ... 原有其他樣式保持不變 ... */\n.activity-manage-container { padding: 15px; background-color: #fcfaf8; min-height: 80vh; }\n.header-section { display: flex; align-items: center; margin-bottom: 25px; }\n.header-section h2 { margin: 0; color: #5d5146; font-size: 22px; }\n.info-card { border-radius: 12px; border: 1px solid #e9e0d6; }\n.info-card-header { font-weight: bold; color: #5d5146; }\n.progress-section { margin-top: 25px; padding: 15px; background: #fff; border-radius: 8px; border: 1px solid #ebeef5; }\n.progress-text { font-size: 14px; color: #606266; margin-bottom: 12px; font-weight: 500; }\n.upload-card { border-radius: 12px; min-height: 500px; }\n.upload-header { display: flex; justify-content: space-between; align-items: center; font-weight: bold; }\n.disabled-overlay { opacity: 0.6; pointer-events: none; background-color: #f9f9f9; }\n.upload-placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 350px; color: #909399; }\n.placeholder-icon-wrap { width: 120px; height: 120px; background: #f0f2f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; color: #c0c4cc; }\n.button-group { margin-top: 18px; display: flex; flex-direction: column; gap: 12px; }\n.manage-btn { width: 100%; font-weight: bold; }\n@keyframes pulse-green {\n  0% { box-shadow: 0 0 0 0 rgba(103, 194, 58, 0.6); transform: scale(1); }\n  50% { box-shadow: 0 0 0 10px rgba(103, 194, 58, 0); transform: scale(1.02); }\n  100% { box-shadow: 0 0 0 0 rgba(103, 194, 58, 0); transform: scale(1); }\n}\n.pulse-btn { width: 100%; font-weight: bold; font-size: 16px; animation: pulse-green 2.5s infinite; margin-left: 0 !important; }\n.ai-guide-box { margin-top: 15px; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityManage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActivityManage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ActivityManage.vue?vue&type=template&id=60e71ea8&scoped=true\"\nimport script from \"./ActivityManage.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityManage.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityManage.vue?vue&type=style&index=0&id=60e71ea8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60e71ea8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"ai-view\"},[_c('div',{staticClass:\"header\"},[_c('el-button',{attrs:{\"icon\":\"el-icon-back\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$emit('go-back')}}}),_c('h2',{staticStyle:{\"margin-left\":\"15px\"}},[_vm._v(\" AI 辨識結果預覽 \"),(_vm.isDemoMode)?_c('el-tag',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(\"示範模式\")]):_vm._e()],1)],1),(_vm.loading)?_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticStyle:{\"height\":\"400px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"color\":\"#909399\"}},[_c('i',{staticClass:\"el-icon-cpu\",staticStyle:{\"font-size\":\"48px\",\"margin-bottom\":\"15px\"}}),_c('p',[_vm._v(\"系統正在分析影像特徵並進行人臉比對...\")])])]):_c('div',{staticClass:\"results-container\"},[_vm._l((_vm.processedPhotos),function(photo){return _c('div',{key:photo.photo_id,staticClass:\"photo-card\"},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{ref:'img-' + photo.photo_id,refInFor:true,staticClass:\"main-img\",attrs:{\"src\":photo.photo_url},on:{\"load\":function($event){return _vm.drawBoxes(photo.photo_id)}}}),_vm._l((photo.detections),function(det,idx){return _c('div',{key:idx,staticClass:\"face-box\",style:(det.boxStyle)},[_c('div',{staticClass:\"name-tag-container\"},[_c('span',{staticClass:\"name-tag\"},[_vm._v(\" \"+_vm._s(det.resident_name)+\" (\"+_vm._s((det.confidence * 100).toFixed(0))+\"%) \")])])])})],2)])}),(_vm.processedPhotos.length === 0)?_c('el-empty',{attrs:{\"description\":\"目前該活動尚未有辨識資料\"}}):_vm._e()],2),(_vm.processedPhotos.length > 0)?_c('div',{staticClass:\"footer-action\"},[_c('p',{staticClass:\"hint-text\"},[_vm._v(\"＊以上為 AI 系統自動辨識之初步結果，請管理員核對後正式同步至長者個人檔案。\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"large\",\"icon\":\"el-icon-circle-check\",\"loading\":_vm.submitting},on:{\"click\":_vm.handleConfirm}},[_vm._v(\" 確認辨識結果並正式存檔 \")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"ai-view\">\n    <div class=\"header\">\n      <el-button icon=\"el-icon-back\" circle @click=\"$emit('go-back')\"></el-button>\n      <h2 style=\"margin-left: 15px;\">\n        AI 辨識結果預覽 \n        <el-tag v-if=\"isDemoMode\" type=\"warning\" size=\"mini\" style=\"margin-left: 10px;\">示範模式</el-tag>\n      </h2>\n    </div>\n\n    <el-card v-if=\"loading\" v-loading=\"true\" style=\"height: 400px; display: flex; align-items: center; justify-content: center;\">\n      <div style=\"text-align: center; color: #909399;\">\n        <i class=\"el-icon-cpu\" style=\"font-size: 48px; margin-bottom: 15px;\"></i>\n        <p>系統正在分析影像特徵並進行人臉比對...</p>\n      </div>\n    </el-card>\n\n    <div v-else class=\"results-container\">\n      <div v-for=\"photo in processedPhotos\" :key=\"photo.photo_id\" class=\"photo-card\">\n        <div class=\"img-wrapper\">\n          <img \n            :src=\"photo.photo_url\" \n            :ref=\"'img-' + photo.photo_id\"\n            @load=\"drawBoxes(photo.photo_id)\"\n            class=\"main-img\"\n          />\n          \n          <div \n            v-for=\"(det, idx) in photo.detections\" \n            :key=\"idx\" \n            class=\"face-box\" \n            :style=\"det.boxStyle\"\n          >\n            <div class=\"name-tag-container\">\n              <span class=\"name-tag\">\n                {{ det.resident_name }} ({{ (det.confidence * 100).toFixed(0) }}%)\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <el-empty v-if=\"processedPhotos.length === 0\" description=\"目前該活動尚未有辨識資料\"></el-empty>\n    </div>\n\n    <div class=\"footer-action\" v-if=\"processedPhotos.length > 0\">\n      <p class=\"hint-text\">＊以上為 AI 系統自動辨識之初步結果，請管理員核對後正式同步至長者個人檔案。</p>\n      <el-button type=\"success\" size=\"large\" @click=\"handleConfirm\" icon=\"el-icon-circle-check\" :loading=\"submitting\">\n        確認辨識結果並正式存檔\n      </el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AIRecognitionView',\n  props: ['activityId'],\n  data() {\n    return {\n      loading: false,\n      submitting: false,\n      isDemoMode: false,\n      rawResults: [],\n      processedPhotos: []\n    };\n  },\n  methods: {\n    async fetchAIResults() {\n      this.loading = true;\n      this.isDemoMode = false;\n      const token = localStorage.getItem('userToken');\n      \n      try {\n        // 對接後端 AI 辨識 API\n        const response = await this.$http.post(`/manager-api/Activity/${this.activityId}/recognize`, {}, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n        \n        if (response.data && response.data.length > 0) {\n          this.rawResults = response.data;\n        } else {\n          this.loadMockData(); \n        }\n      } catch (err) {\n        this.loadMockData(); \n      } finally {\n        this.processData();\n        this.loading = false;\n      }\n    },\n\n    loadMockData() {\n      this.isDemoMode = true;\n      const baseUrl = process.env.BASE_URL;\n      // 模擬後端回傳格式\n      this.rawResults = [\n        {\n          \"resident_id\": \"26\",\n          \"resident_name\": \"孫秋香\",\n          \"confidence\": 0.71,\n          \"photos\": [{\n            \"photo_id\": 54,\n            \"photo_url\": `${baseUrl}slideshow/activity2.png`, \n            \"bounding_box\": [511, 116, 666, 270] \n          }]\n        }\n      ];\n    },\n\n    processData() {\n      const map = {};\n      this.rawResults.forEach(person => {\n        person.photos.forEach(pic => {\n          if (!map[pic.photo_id]) {\n            map[pic.photo_id] = { photo_id: pic.photo_id, photo_url: pic.photo_url, detections: [] };\n          }\n          map[pic.photo_id].detections.push({\n            resident_id: person.resident_id, // 為了後續儲存需要 ID\n            resident_name: person.resident_name,\n            confidence: person.confidence,\n            rawBox: pic.bounding_box, // [top, left, bottom, right]\n            boxStyle: {}\n          });\n        });\n      });\n      this.processedPhotos = Object.values(map);\n    },\n\n    drawBoxes(id) {\n      this.$nextTick(() => {\n        const imgRef = this.$refs['img-' + id];\n        const img = Array.isArray(imgRef) ? imgRef[0] : imgRef;\n        const photo = this.processedPhotos.find(p => p.photo_id === id);\n        \n        if (!img || !photo || img.naturalWidth === 0) return;\n\n        // 計算圖片縮放比例，確保座標精準\n        const sx = img.clientWidth / img.naturalWidth;\n        const sy = img.clientHeight / img.naturalHeight;\n\n        photo.detections.forEach(d => {\n          // 對接後端 [top, left, bottom, right] 格式\n          const [t, l, b, r] = d.rawBox;\n          d.boxStyle = {\n            top: (t * sy) + 'px',\n            left: (l * sx) + 'px',\n            width: ((r - l) * sx) + 'px',\n            height: ((b - t) * sy) + 'px'\n          };\n        });\n        this.$forceUpdate();\n      });\n    },\n\n    async handleConfirm() {\n      try {\n        await this.$confirm('確認辨識結果正確並同步存檔嗎？', '人工審核', {\n          confirmButtonText: '確定存檔',\n          type: 'success'\n        });\n\n        this.submitting = true;\n\n        // 封裝成同學要求的回傳格式\n        const payload = [];\n        this.processedPhotos.forEach(photo => {\n          photo.detections.forEach(det => {\n            payload.push({\n              photo_id: photo.photo_id,\n              resident_id: det.resident_id\n            });\n          });\n        });\n\n        const token = localStorage.getItem('userToken');\n        // 呼叫新的 confirm API\n        await this.$http.post(`/manager-api/Activity/${this.activityId}/recognize/confirm`, payload, {\n          headers: { 'Authorization': `Bearer ${token}` }\n        });\n\n        this.$message.success('辨識結果已正式入庫！');\n        this.$emit('go-back');\n      } catch (error) {\n        if (error !== 'cancel') this.$message.error('儲存失敗');\n      } finally {\n        this.submitting = false;\n      }\n    }\n  },\n  mounted() {\n    this.fetchAIResults();\n    window.addEventListener('resize', this.refreshBoxes);\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.refreshBoxes);\n  },\n  methods: {\n    // ... 其他 methods 保持不變 ...\n    refreshBoxes() {\n      this.processedPhotos.forEach(p => this.drawBoxes(p.photo_id));\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* 樣式保持專業感 */\n.ai-view { padding: 20px; background-color: #fcfaf8; min-height: 100vh; }\n.header { display: flex; align-items: center; margin-bottom: 25px; }\n.results-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(450px, 1fr)); gap: 30px; }\n.photo-card { background: white; padding: 15px; border-radius: 15px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); position: relative; }\n.img-wrapper { position: relative; width: 100%; border-radius: 10px; overflow: hidden; line-height: 0; }\n.main-img { width: 100%; height: auto; display: block; }\n.face-box { position: absolute; border: 2px solid #FF9933; pointer-events: none; background: rgba(255, 153, 51, 0.15); box-sizing: border-box; z-index: 5; transition: all 0.2s; }\n.name-tag { background: #FF9933; color: white; padding: 2px 8px; font-size: 12px; font-weight: bold; border-radius: 4px 4px 0 0; position: absolute; top: -22px; left: -2px; white-space: nowrap; }\n.footer-action { margin-top: 50px; text-align: center; padding: 40px 0; border-top: 2px dashed #e9e0d6; }\n</style>","import mod from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIRecognitionView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AIRecognitionView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AIRecognitionView.vue?vue&type=template&id=3d9c8b7f&scoped=true\"\nimport script from \"./AIRecognitionView.vue?vue&type=script&lang=js\"\nexport * from \"./AIRecognitionView.vue?vue&type=script&lang=js\"\nimport style0 from \"./AIRecognitionView.vue?vue&type=style&index=0&id=3d9c8b7f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d9c8b7f\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <div v-if=\"debugMode\" class=\"debug-toolbar\">\n      <el-tag type=\"info\" size=\"small\">開發者工具</el-tag>\n      <el-button @click=\"currentView = 'RFIDLanding'\" size=\"mini\" type=\"success\">長者端 (首頁)</el-button>\n      <el-button @click=\"currentView = 'Login'\" size=\"mini\" type=\"primary\">行政管理端</el-button>\n      <el-button @click=\"debugMode = false\" size=\"mini\">隱藏工具列</el-button>\n    </div>\n\n    <div class=\"container\">\n      <RFIDLanding \n        v-if=\"currentView === 'RFIDLanding'\" \n        @scan-success=\"onScanSuccess\" \n      />\n\n      <ActivityMenu \n        v-else-if=\"currentView === 'ActivityMenu'\" \n        :rfid_uid=\"selectedRfid\"\n        @select-activity=\"onSelectActivity\"\n        @go-back=\"currentView = 'RFIDLanding'\"\n      />\n\n      <Slideshow \n        v-else-if=\"currentView === 'Slideshow'\" \n        :rfid_uid=\"selectedRfid\" \n        :activityId=\"selectedActivityId\"\n        @go-back=\"currentView = 'ActivityMenu'\"\n      />\n\n      <Login \n        v-else-if=\"currentView === 'Login'\" \n        @login-success=\"currentView = 'ActivityList'\" \n      />\n\n      <ActivityList \n        v-else-if=\"currentView === 'ActivityList'\" \n        @manage-activity=\"onManageActivity\"\n        @add-activity=\"onAddActivity\" \n      />\n\n      <ActivityManage \n        v-else-if=\"currentView === 'ActivityManage'\" \n        :selectedActivity=\"activeActivityObject\"\n        @go-back=\"currentView = 'ActivityList'\"\n        @go-screening=\"currentView = 'AIScreening'\" \n        @go-recognition=\"currentView = 'AIRecognition'\"\n      />\n\n      <AIRecognitionView \n        v-else-if=\"currentView === 'AIRecognition'\" \n        :activityId=\"selectedActivityId\"\n        @go-back=\"currentView = 'ActivityManage'\"\n      />\n\n      <AIScreening \n        v-else-if=\"currentView === 'AIScreening'\" \n        :activityId=\"selectedActivityId\"\n        @go-back=\"currentView = 'ActivityManage'\"\n      />\n\n      <ElderList \n        v-else-if=\"currentView === 'ElderList'\" \n        @edit-elder=\"onEditElder\"\n        @add-elder=\"onAddElder\"\n      />\n\n      <ElderEdit \n        v-else-if=\"currentView === 'ElderEdit'\" \n        :elderId=\"selectedResidentId\"\n        @go-back=\"currentView = 'ElderList'\"\n      />\n      \n      <p v-else style=\"text-align: center; margin-top: 50px;\">\n        <i class=\"el-icon-loading\"></i> 系統正在準備中...\n      </p>\n    </div>\n\n    <div v-if=\"isAdminView\" class=\"admin-nav\">\n      <el-button @click=\"currentView = 'ActivityList'\" icon=\"el-icon-s-order\">活動列表</el-button>\n      <el-button @click=\"currentView = 'ElderList'\" icon=\"el-icon-user-solid\">長者管理</el-button>\n      <el-button @click=\"logout\" type=\"text\" style=\"color: #F56C6C;\">安全登出</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\n// 組件引入保持不變 ...\nimport RFIDLanding from './components/RFIDLanding.vue';\nimport ActivityMenu from './components/ActivityMenu.vue';\nimport Slideshow from './components/Slideshow.vue';\nimport Login from './components/Login.vue';\nimport ActivityList from './components/ActivityList.vue';\nimport ElderList from './components/ElderList.vue';\nimport ElderEdit from './components/ElderEdit.vue';\nimport AIScreening from './components/AIScreening.vue';\nimport ActivityManage from './components/ActivityManage.vue';\nimport AIRecognitionView from './components/AIRecognitionView.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    RFIDLanding, ActivityMenu, Slideshow, Login,\n    ActivityList, ElderList, ElderEdit, AIScreening, ActivityManage,\n    AIRecognitionView\n  },\n  data() {\n    return {\n      currentView: 'RFIDLanding',\n      debugMode: true,\n      selectedRfid: null, // 改為追蹤選中的 RFID 序號\n      selectedResidentId: null, // 用於行政端的編輯 ID\n      selectedActivityId: null,\n      activeActivityObject: null \n    };\n  },\n  computed: {\n    isAdminView() {\n      const adminPages = ['ActivityList', 'ElderList', 'ActivityManage', 'ElderEdit', 'AIScreening', 'AIRecognition'];\n      return adminPages.includes(this.currentView);\n    }\n  },\n  methods: {\n    // 當 RFID 感應成功時\n    onScanSuccess(rfid) {\n      this.selectedRfid = rfid;\n      this.currentView = 'ActivityMenu';\n    },\n    // 當選擇特定活動回憶時\n    onSelectActivity(payload) {\n      this.selectedActivityId = payload.activityId;\n      this.selectedRfid = payload.rfid; // 再次確認 RFID 傳遞\n      this.currentView = 'Slideshow';\n    },\n    // 行政端：管理活動\n    onManageActivity(id) {\n      this.selectedActivityId = id;\n      this.activeActivityObject = { id: id }; \n      this.currentView = 'ActivityManage';\n    },\n    // 行政端：建立活動\n    onAddActivity() {\n      this.selectedActivityId = null;\n      this.activeActivityObject = null; \n      this.currentView = 'ActivityManage';\n    },\n    // 行政端：編輯長者\n    onEditElder(id) {\n      this.selectedResidentId = id;\n      this.currentView = 'ElderEdit';\n    },\n    // 行政端：新增長者\n    onAddElder() {\n      this.selectedResidentId = null;\n      this.currentView = 'ElderEdit';\n    },\n    logout() {\n      localStorage.removeItem('userToken');\n      this.currentView = 'Login';\n      this.$message.info('已安全登出');\n    }\n  }\n};\n</script>","import mod from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=605e1511\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport axios from 'axios';\nimport VueRouter from 'vue-router';\n\n// 導入核心視圖組件\nimport AIRecognitionView from './components/AIRecognitionView.vue';\n\nVue.config.productionTip = false\nVue.use(ElementUI);\nVue.use(VueRouter);\n\n// --- 設定路由表 ---\n// 這裡保留彈性，讓您未來可以透過網址直接進入特定的辨識結果頁\nconst routes = [\n  {\n    path: '/activity/:activityId/ai',\n    name: 'AIRecognition',\n    component: AIRecognitionView,\n    props: true // 允許將路徑中的 activityId 直接作為 props 傳入組件\n  }\n];\n\nconst router = new VueRouter({\n  mode: 'hash', // GitHub Pages 必須使用 hash 模式以避免 404 錯誤\n  base: process.env.BASE_URL, \n  routes\n});\n\n// --- Axios 實例配置 ---\nconst instance = axios.create({\n  // 指向同學提供的 Azure 正式環境路徑\n  baseURL: 'https://ccu-rfid-project-arhddfhugverf8dr.japanwest-01.azurewebsites.net',\n  timeout: 15000,\n  withCredentials: false \n});\n\n// --- 攔截器：確保每一筆請求都帶上管理員 Token ---\ninstance.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('userToken');\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => Promise.reject(error)\n);\n\n// 全域掛載 API 請求工具\nVue.prototype.$http = instance;\n\nnew Vue({\n  router, \n  render: h => h(App),\n}).$mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkccu_rfid_frontend\"] = self[\"webpackChunkccu_rfid_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6213); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","on","$event","currentView","debugMode","_e","onScanSuccess","selectedRfid","onSelectActivity","selectedActivityId","onManageActivity","onAddActivity","activeActivityObject","onEditElder","onAddElder","selectedResidentId","staticStyle","logout","staticRenderFns","slot","hasToken","loading","handleStart","name","data","localStorage","getItem","methods","token","$message","message","type","duration","cardUid","response","axios","get","headers","match","length","target","$notify","title","position","setTimeout","$emit","warning","error","console","warn","component","_s","residentName","handleBack","directives","rawName","value","expression","_l","activity","key","id","nativeOn","handleSelectActivity","cover","getDefaultCover","date","photoCount","props","activityList","mounted","rfid_uid","fetchDataByRfid","loadMockActivities","$http","matchInfo","activitys","map","item","activity_at","photo_count","info","activityId","rfid","activityName","photoList","prevPhoto","currentPhotoIndex","url","nextPhoto","isPlaying","togglePlay","timer","fetchPhotos","startTimer","beforeDestroy","stopTimer","res","params","photos","p","image_url","taken_at","activity_id","loadMockPhotos","err","baseUrl","setInterval","clearInterval","_m","loginForm","model","callback","$$v","$set","indexOf","_k","keyCode","handleLogin","apply","arguments","account","password","post","access_token","setItem","status","activities","scopedSlots","_u","fn","scope","row","fetchActivities","loadMockData","location","elderList","avatar","getDefaultAvatar","charAt","fetchElders","setMockData","age","avatar_url","isEdit","elderForm","handleAvatarChange","imageUrl","submitting","submitForm","remark","selectedFile","elderId","fetchElderData","file","raw","URL","createObjectURL","formData","FormData","append","method","success","group","resident_id","confidence","toFixed","photo","index","photo_id","openEditDialog","photo_url","stopPropagation","removePhotoFromGroup","editVisible","ref","editingPhoto","drawEditBox","style","tempName","originalName","updateTempName","confirmCorrection","handleFinalSave","boxStyle","aiGroups","residentOptions","fetchScreeningResults","g","loadMockResults","originalGroup","targetResidentId","img","$refs","previewImg","box","bounding_box","sx","clientWidth","naturalWidth","sy","clientHeight","naturalHeight","top","left","width","height","val","find","o","payload","forEach","push","isNewActivity","activityForm","handleCreateActivity","analyzedCount","progressPercentage","customColors","class","getUploadUrl","uploadHeaders","handleUploadSuccess","handleUploadError","selectedActivity","color","percentage","computed","Math","floor","refInFor","drawBoxes","det","idx","resident_name","processedPhotos","handleConfirm","isDemoMode","rawResults","fetchAIResults","processData","person","pic","detections","rawBox","Object","values","$nextTick","imgRef","Array","isArray","d","t","l","b","r","$forceUpdate","$confirm","confirmButtonText","window","addEventListener","refreshBoxes","removeEventListener","components","RFIDLanding","ActivityList","AIRecognitionView","isAdminView","adminPages","includes","removeItem","config","productionTip","use","routes","path","router","mode","base","instance","create","baseURL","timeout","withCredentials","interceptors","request","Authorization","Promise","reject","prototype","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","keys","every","splice","n","getter","__esModule","a","definition","defineProperty","enumerable","globalThis","Function","e","obj","prop","hasOwnProperty","call","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}